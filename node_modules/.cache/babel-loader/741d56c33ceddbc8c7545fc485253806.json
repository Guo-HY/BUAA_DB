{"remainingRequest":"e:\\大三上\\数据库\\大作业\\frontend\\mix\\node_modules\\babel-loader\\lib\\index.js!e:\\大三上\\数据库\\大作业\\frontend\\mix\\node_modules\\cache-loader\\dist\\cjs.js??ref--1-0!e:\\大三上\\数据库\\大作业\\frontend\\mix\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!e:\\大三上\\数据库\\大作业\\frontend\\mix\\src\\components\\Group.vue?vue&type=script&lang=js&","dependencies":[{"path":"e:\\大三上\\数据库\\大作业\\frontend\\mix\\src\\components\\Group.vue","mtime":1670676229781},{"path":"e:\\大三上\\数据库\\大作业\\frontend\\mix\\babel.config.js","mtime":1663488182649},{"path":"e:\\大三上\\数据库\\大作业\\frontend\\mix\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1662974870267},{"path":"e:\\大三上\\数据库\\大作业\\frontend\\mix\\node_modules\\babel-loader\\lib\\index.js","mtime":1662974871420},{"path":"e:\\大三上\\数据库\\大作业\\frontend\\mix\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1662974870267},{"path":"e:\\大三上\\数据库\\大作业\\frontend\\mix\\node_modules\\vue-loader\\lib\\index.js","mtime":1662974872279}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IHFzIGZyb20gInFzIjsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICJHcm91cCIsCiAgY29tcG9uZW50czoge30sCiAgcHJvcHM6IHt9LAoKICBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgdXNlcl9pZDogdGhpcy4kc3RvcmUuc3RhdGUudXNlcl9pZCwKICAgICAgZ3JvdXBJZDogdGhpcy4kc3RvcmUuc3RhdGUuZ3JvdXBJZCwKICAgICAgY3JlYXRlX3VzZXJfcGljX3BhdGg6ICJodHRwOi8vMTI3LjAuMC4xOjgwMDAvbWVkaWEvMC5qcGciLAogICAgICBjcmVhdGVfdXNlcl9waWM6IHJlcXVpcmUoIkU6L+Wkp+S4ieS4ii/mlbDmja7lupMv5aSn5L2c5LiaL2Zyb250ZW5kL21peC9zcmMvYXNzZXRzLzMucG5nIiksCiAgICAgIGdwbmFtZTogJ0xPTCcsCiAgICAgIGdwX2Rlc2M6ICfnvZHmuLjlt4Xls7AnLAogICAgICBwb3N0X251bTogMiwKICAgICAgY3JlYXRlX3VzZXJfbmFtZTogJ3psYicsCiAgICAgIHRhZ3M6IFsnTU9CQSddLAogICAgICBnZXR0aW1lOiAiIiwKICAgICAgdXNlcnRhZzogJycsCiAgICAgIGZvcm06IHsKICAgICAgICBuYW1lOiAnJywKICAgICAgICBjb250ZXh0OiAnJwogICAgICB9LAogICAgICBkaWFsb2c6IGZhbHNlLAogICAgICBsb2FkaW5nOiBmYWxzZSwKICAgICAgZm9ybUxhYmVsV2lkdGg6ICc4MHB4JywKICAgICAgdGltZXI6IG51bGwsCiAgICAgIHBvc3RzOiBbewogICAgICAgICJwb3N0X2lkIjogMSwKICAgICAgICAicG9zdF9uYW1lIjogIkRSWOWkuuWGoOW8leeDreiurixEZWZ05pyA5ZCO5LiA6Iie5rOq5rSS6LWb5Zy6IiwKICAgICAgICAiY29udGV4dCI6ICLor6bnu4bnlaUiLAogICAgICAgICJwb3N0X3RpbWUiOiAiMjAyMi0xMS0xNiAyMTo0NDozMCIsCiAgICAgICAgImNvbW1lbnRfbnVtIjogMiwKICAgICAgICAibGlrZXNfbnVtIjogOTk5LAogICAgICAgICJjcmVhdGVfdXNlcl9uYW1lIjogImdoeSIsCiAgICAgICAgImNyZWF0ZV91c2VyX3BpYyI6ICIiCiAgICAgIH0sIHsKICAgICAgICAicG9zdF9pZCI6IDIsCiAgICAgICAgInBvc3RfbmFtZSI6ICLljJfoiKrmnJ/mnKvogIPor5XlpKfkvZzkuJrph43lj6As5a2m55Sf5LiN5aCq6YeN6LSfIiwKICAgICAgICAiY29udGV4dCI6ICLor6bnu4bnlaUiLAogICAgICAgICJwb3N0X3RpbWUiOiAiMjAyMi0xMS0xOSAxMToxMzozMCIsCiAgICAgICAgImNvbW1lbnRfbnVtIjogOTk5LAogICAgICAgICJsaWtlc19udW0iOiA5OTk5LAogICAgICAgICJjcmVhdGVfdXNlcl9uYW1lIjogIuWMv+WQjSIsCiAgICAgICAgImNyZWF0ZV91c2VyX3BpYyI6ICIiCiAgICAgIH1dCiAgICB9OwogIH0sCgogIHdhdGNoOiB7fSwKICBjb21wdXRlZDoge30sCiAgbWV0aG9kczogewogICAgZ2V0QWxsKCkgewogICAgICB0aGlzLiRodHRwKHsKICAgICAgICBtZXRob2Q6ICdwb3N0JywKICAgICAgICB1cmw6ICcvYXBpL2dldEdyb3VwSW5mbycsCiAgICAgICAgZGF0YTogcXMuc3RyaW5naWZ5KHsKICAgICAgICAgIGdyb3VwSWQ6IHRoaXMuZ3JvdXBJZAogICAgICAgIH0pCiAgICAgIH0pLnRoZW4ocmVzID0+IHsKICAgICAgICBjb25zb2xlLmxvZyhyZXMuZGF0YSk7CiAgICAgICAgdGhpcy5ncG5hbWUgPSByZXMuZGF0YS5ncm91cF9uYW1lOwogICAgICAgIHRoaXMuZ3BfZGVzYyA9IHJlcy5kYXRhLmdyb3VwX2Rlc2NyaXB0aW9uOwogICAgICAgIHRoaXMucG9zdF9udW0gPSByZXMuZGF0YS5wb3N0X251bTsKICAgICAgICB0aGlzLmNyZWF0ZV91c2VyX25hbWUgPSByZXMuZGF0YS5jcmVhdGVfdXNlcl9uYW1lOwogICAgICAgIHRoaXMudGFncyA9IHJlcy5kYXRhLnRhZ3M7CiAgICAgICAgdGhpcy5wb3N0cyA9IHJlcy5kYXRhLnBvc3RzOwogICAgICAgIHRoaXMuY3JlYXRlX3VzZXJfcGljX3BhdGggPSByZXMuZGF0YS5jcmVhdGVfdXNlcl9waWM7CiAgICAgIH0pOwogICAgfSwKCiAgICBnZXRUaW1lKCkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgbGV0IHl5ID0gbmV3IERhdGUoKS5nZXRGdWxsWWVhcigpOwogICAgICB2YXIgbW0gPSBuZXcgRGF0ZSgpLmdldE1vbnRoKCkgPiA5ID8gbmV3IERhdGUoKS5nZXRNb250aCgpICsgMSA6IG5ldyBEYXRlKCkuZ2V0TW9udGgoKSA9PSA5ID8gbmV3IERhdGUoKS5nZXRNb250aCgpICsgMSA6ICcwJyArIChuZXcgRGF0ZSgpLmdldE1vbnRoKCkgKyAxKTsKICAgICAgdmFyIGRkID0gbmV3IERhdGUoKS5nZXREYXRlKCkgPCAxMCA/ICcwJyArIG5ldyBEYXRlKCkuZ2V0RGF0ZSgpIDogbmV3IERhdGUoKS5nZXREYXRlKCk7CiAgICAgIGxldCBoaCA9IG5ldyBEYXRlKCkuZ2V0SG91cnMoKTsKICAgICAgbGV0IG1mID0gbmV3IERhdGUoKS5nZXRNaW51dGVzKCkgPCAxMCA/ICcwJyArIG5ldyBEYXRlKCkuZ2V0TWludXRlcygpIDogbmV3IERhdGUoKS5nZXRNaW51dGVzKCk7CiAgICAgIGxldCBzcyA9IG5ldyBEYXRlKCkuZ2V0U2Vjb25kcygpIDwgMTAgPyAnMCcgKyBuZXcgRGF0ZSgpLmdldFNlY29uZHMoKSA6IG5ldyBEYXRlKCkuZ2V0U2Vjb25kcygpOwogICAgICBfdGhpcy5nZXR0aW1lID0geXkgKyAnLScgKyBtbSArICctJyArIGRkICsgJyAnICsgaGggKyAnOicgKyBtZiArICc6JyArIHNzOwogICAgfSwKCiAgICBjdXJyZW50VGltZSgpIHsKICAgICAgc2V0SW50ZXJ2YWwodGhpcy5nZXRUaW1lLCAxMDAwKTsKICAgIH0sCgogICAgdXNlckFkZFRhZ1RvR3JvdXAoKSB7CiAgICAgIGNvbnNvbGUubG9nKHRoaXMudXNlcnRhZyk7CiAgICAgIHRoaXMuJGh0dHAoewogICAgICAgIG1ldGhvZDogJ3Bvc3QnLAogICAgICAgIHVybDogJy9hcGkvdXNlckFkZFRhZ1RvR3JvdXAnLAogICAgICAgIGRhdGE6IHFzLnN0cmluZ2lmeSh7CiAgICAgICAgICB1c2VySWQ6IHRoaXMudXNlcl9pZCwKICAgICAgICAgIGdyb3VwSWQ6IHRoaXMuZ3JvdXBJZCwKICAgICAgICAgIHRhZ05hbWU6IHRoaXMudXNlcnRhZwogICAgICAgIH0pCiAgICAgIH0pLnRoZW4ocmVzID0+IHsKICAgICAgICB0aGlzLnRhZ3MucHVzaCh0aGlzLnVzZXJ0YWcpOwogICAgICAgIHRoaXMudXNlcnRhZyA9ICIiOwogICAgICAgIGFsZXJ0KCLmt7vliqDmiJDlip8hIik7CiAgICAgIH0pOwogICAgfSwKCiAgICB1c2VyQ3JlYXRlUG9zdChkb25lKSB7CiAgICAgIGlmICh0aGlzLmxvYWRpbmcpIHsKICAgICAgICByZXR1cm47CiAgICAgIH0KCiAgICAgIHRoaXMuJGNvbmZpcm0oJ+ehruWumuimgeaPkOS6pOihqOWNleWQl++8nycpLnRoZW4oXyA9PiB7CiAgICAgICAgdGhpcy5sb2FkaW5nID0gdHJ1ZTsKICAgICAgICB0aGlzLnRpbWVyID0gc2V0VGltZW91dCgoKSA9PiB7CiAgICAgICAgICBkb25lKCk7CiAgICAgICAgICB0aGlzLiRodHRwKHsKICAgICAgICAgICAgbWV0aG9kOiAncG9zdCcsCiAgICAgICAgICAgIHVybDogJy9hcGkvdXNlckNyZWF0ZVBvc3QnLAogICAgICAgICAgICBkYXRhOiBxcy5zdHJpbmdpZnkoewogICAgICAgICAgICAgIHVzZXJJZDogdGhpcy51c2VyX2lkLAogICAgICAgICAgICAgIGdyb3VwSWQ6IHRoaXMuZ3JvdXBJZCwKICAgICAgICAgICAgICBwb3N0X25hbWU6IHRoaXMuZm9ybS5uYW1lLAogICAgICAgICAgICAgIGNvbnRleHQ6IHRoaXMuZm9ybS5jb250ZXh0LAogICAgICAgICAgICAgIHBvc3RfdGltZTogdGhpcy5nZXR0aW1lCiAgICAgICAgICAgIH0pCiAgICAgICAgICB9KS50aGVuKHJlcyA9PiB7CiAgICAgICAgICAgIGFsZXJ0KCLor4TorrrmiJDlip8hIik7CiAgICAgICAgICB9KTsgLy8g5Yqo55S75YWz6Zet6ZyA6KaB5LiA5a6a55qE5pe26Ze0CgogICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7CiAgICAgICAgICAgIHRoaXMubG9hZGluZyA9IGZhbHNlOwogICAgICAgICAgfSwgNDAwKTsKICAgICAgICB9LCAyMDAwKTsKICAgICAgICBjb25zb2xlLmxvZyh0aGlzLmZvcm0pOwogICAgICB9KS5jYXRjaChfID0+IHt9KTsKICAgIH0sCgogICAgY2FuY2VsRm9ybSgpIHsKICAgICAgdGhpcy5sb2FkaW5nID0gZmFsc2U7CiAgICAgIHRoaXMuZGlhbG9nID0gZmFsc2U7CiAgICAgIGNsZWFyVGltZW91dCh0aGlzLnRpbWVyKTsKICAgIH0sCgogICAgaW50b1Bvc3QoaWQpIHsKICAgICAgY29uc29sZS5sb2coaWQpOwogICAgICB0aGlzLiRzdG9yZS5jb21taXQoInNldFBvc3RpZCIsIGlkKTsKICAgICAgdGhpcy4kcm91dGVyLnB1c2goIi9wb3N0Iik7CiAgICB9LAoKICAgIHVzZXJEZWxldGVQb3N0KGlkKSB7CiAgICAgIGNvbnNvbGUubG9nKGlkKTsKICAgICAgdGhpcy4kaHR0cCh7CiAgICAgICAgbWV0aG9kOiAncG9zdCcsCiAgICAgICAgdXJsOiAnL2FwaS91c2VyRGVsZXRlUG9zdCcsCiAgICAgICAgZGF0YTogcXMuc3RyaW5naWZ5KHsKICAgICAgICAgIHVzZXJJZDogdGhpcy4kc3RvcmUuc3RhdGUudXNlcl9pZCwKICAgICAgICAgIHBvc3RJZDogaWQKICAgICAgICB9KQogICAgICB9KS50aGVuKHJlcyA9PiB7CiAgICAgICAgY29uc29sZS5sb2cocmVzLmRhdGEpOwoKICAgICAgICBpZiAocmVzLmRhdGEuc3RhdHVzID09ICdzdWNjZXNzJykgewogICAgICAgICAgYWxlcnQoIuWIoOmZpOaIkOWKnyIpOwogICAgICAgICAgdGhpcy5nZXRIb3RHcm91cEludHJvKCk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIGFsZXJ0KCLliKDpmaTlpLHotKUs5L2g5peg5p2D5Yig6Zmk5q2k5biW5a2QISIpOwogICAgICAgIH0KICAgICAgfSk7CiAgICB9CgogIH0sCgogIC8vIGNyZWF0ZWQoKSB7dGhpcy5nZXRBbGwoKX0sCiAgbW91bnRlZCgpIHsKICAgIHRoaXMuY3VycmVudFRpbWUoKTsKICB9Cgp9Ow=="},{"version":3,"mappings":"AA8GA;AACA;EACAA,aADA;EAEAC,cAFA;EAGAC,SAHA;;EAIAC;IACA;MACAC,kCADA;MAEAC,kCAFA;MAGAC,yDAHA;MAIAC,wEAJA;MAKAC,aALA;MAMAC,eANA;MAOAC,WAPA;MAQAC,uBARA;MASAC,cATA;MAUAC,WAVA;MAWAC,WAXA;MAYAC;QACAf,QADA;QAEAgB;MAFA,CAZA;MAgBAC,aAhBA;MAiBAC,cAjBA;MAkBAC,sBAlBA;MAmBAC,WAnBA;MAoBAC,QACA;QACA,YADA;QAEA,oCAFA;QAGA,gBAHA;QAIA,kCAJA;QAKA,gBALA;QAMA,gBANA;QAOA,yBAPA;QAQA;MARA,CADA,EAWA;QACA,YADA;QAEA,iCAFA;QAGA,gBAHA;QAIA,kCAJA;QAKA,kBALA;QAMA,iBANA;QAOA,wBAPA;QAQA;MARA,CAXA;IApBA;EA2CA,CAhDA;;EAiDAC,SAjDA;EAkDAC,YAlDA;EAmDAC;IACAC;MACA;QACAC,cADA;QAEAC,wBAFA;QAGAxB;UACAE;QADA;MAHA,GAMAuB,IANA,CAMAC;QACAC;QACA;QACA;QACA;QACA;QACA;QACA;QACA;MACA,CAfA;IAgBA,CAlBA;;IAmBAC;MACA;;MACA;MACA,SACA,4BACA,yBADA,GAEA,6BACA,yBADA,GAEA,iCALA;MAMA;MACA;MACA,SACA,sFADA;MAEA,SACA,sFADA;MAEAC;IACA,CAnCA;;IAoCAC;MACAC;IACA,CAtCA;;IAuCAC;MACAL;MACA;QACAJ,cADA;QAEAC,6BAFA;QAGAxB;UACAiC,oBADA;UAEA/B,qBAFA;UAGAgC;QAHA;MAHA,GAQAT,IARA,CAQAC;QACA;QACA;QACAS;MACA,CAZA;IAaA,CAtDA;;IAuDAC;MACA;QACA;MACA;;MACA,2BACAX,IADA,CACAY;QACA;QACA;UACAC;UACA;YACAf,cADA;YAEAC,0BAFA;YAGAxB;cACAiC,oBADA;cAEA/B,qBAFA;cAGAqC,yBAHA;cAIA1B,0BAJA;cAKA2B;YALA;UAHA,GAUAf,IAVA,CAUAC;YACAS;UACA,CAZA,EAFA,CAiBA;;UACAM;YACA;UACA,CAFA,EAEA,GAFA;QAGA,CArBA,EAqBA,IArBA;QAsBAd;MACA,CA1BA,EA2BAe,KA3BA,CA2BAL,OA3BA;IA6BA,CAxFA;;IAyFAM;MACA;MACA;MACAC;IACA,CA7FA;;IA8FAC;MACAlB;MACA;MACA;IACA,CAlGA;;IAmGAmB;MACAnB;MACA;QACAJ,cADA;QAEAC,0BAFA;QAGAxB;UACAiC,iCADA;UAEAc;QAFA;MAHA,GAOAtB,IAPA,CAOAC;QACAC;;QACA;UACAQ;UACA;QACA,CAHA,MAIA;UACAA;QACA;MACA,CAhBA;IAiBA;;EAtHA,CAnDA;;EA2KA;EACAa;IACA;EACA;;AA9KA","names":["name","components","props","data","user_id","groupId","create_user_pic_path","create_user_pic","gpname","gp_desc","post_num","create_user_name","tags","gettime","usertag","form","context","dialog","loading","formLabelWidth","timer","posts","watch","computed","methods","getAll","method","url","then","res","console","getTime","_this","currentTime","setInterval","userAddTagToGroup","userId","tagName","alert","userCreatePost","_","done","post_name","post_time","setTimeout","catch","cancelForm","clearTimeout","intoPost","userDeletePost","postId","mounted"],"sourceRoot":"src/components","sources":["Group.vue"],"sourcesContent":["<template>\r\n  <div>\r\n    <span class=\"deadline\">当前时间{{ gettime }}</span>\r\n    <div class=\"pic_table\">\r\n      <img class=\"img\" :src=\"`http://127.0.0.1:8000/`${create_user_pic_path}\"  width=\"100px\" height=\"100px\"></img>\r\n      <infoaddr>{{gpname}}</infoaddr>\r\n      <postnum>{{\"关注 : \"+post_num}}</postnum>\r\n      <tagsaddr>\r\n        {{\"标签 : \"}}\r\n        <template v-for=\"item in tags\">\r\n          <el-tag>{{item}}</el-tag> &#12288\r\n        </template>\r\n      </tagsaddr>\r\n      <tagsedit>\r\n        <el-button type=\"primary\" icon=\"el-icon-edit\" size=\"small\" @click=\"userAddTagToGroup\"></el-button>\r\n        \r\n      </tagsedit>\r\n      <tagseditcontent>\r\n        <el-input v-model=\"usertag\" placeholder=\"输入想添加的tag\" clearable></el-input>\r\n      </tagseditcontent>\r\n    </div>\r\n\r\n    <!-- 添加帖子 -->\r\n    <el-button type=\"text\" @click=\"dialog = true\">发起帖子</el-button>\r\n    <el-drawer\r\n    title=\"同学,请填写必要信息来发起帖子\"\r\n    :before-close=\"userCreatePost\"\r\n    :visible.sync=\"dialog\"\r\n    direction=\"ltr\"\r\n    custom-class=\"demo-drawer\"\r\n    ref=\"drawer\"\r\n    >\r\n        <div class=\"demo-drawer__content\">\r\n          <el-form :model=\"form\">\r\n            <el-form-item label=\"帖子名称\" :label-width=\"formLabelWidth\">\r\n              <el-input v-model=\"form.name\" autocomplete=\"off\"></el-input>\r\n            </el-form-item>\r\n            <el-form-item label=\"帖子内容\" :label-width=\"formLabelWidth\">\r\n              <el-input type=\"textarea\" autosize v-model=\"form.context\" autocomplete=\"off\"></el-input>\r\n            </el-form-item>\r\n          </el-form>\r\n          <div class=\"demo-drawer__footer\">\r\n            <el-button @click=\"cancelForm\">取 消</el-button>\r\n            <el-button type=\"primary\" @click=\"$refs.drawer.closeDrawer()\"     :loading=\"loading\">{{ loading ? '提交中 ...' : '确 定' }}</el-button>\r\n        </div>\r\n      </div>\r\n    </el-drawer>\r\n    \r\n    <!-- 帖子 -->\r\n    <div class=\"zhihu-item-class\" v-for=\"(item,index) in posts\">\r\n      <el-row>\r\n        <h3 style=\"float: left;margin-left: 10px\" @click=\"intoPost(item.post_id )\">{{item.post_name}}</h3>\r\n      </el-row>\r\n      <el-row style=\"margin-top: 10px;padding: 10px\">\r\n        <el-col :span=\"3\">      <img class=\"img\" :src=\"create_user_pic\"  width=\"100px\" height=\"100px\"></img>\r\n        </el-col> \r\n        <el-col :span=\"15\">\r\n        <!-- <folder >Dr.粲: 赵慧婵是我同班同学,下午热搜第二的时候班级群久违的热闹了起来。说起来我了解的我们班在清华/中科院系统中已经有三位博导了,都是30岁左右从国外被引进的,而赵慧婵无疑是其中最优秀的一位。其实我个…</folder> -->\r\n        <el-collapse >\r\n          <el-collapse-item title=\"展开\">\r\n            <div>{{item.context}}</div>\r\n          </el-collapse-item>\r\n        </el-collapse>\r\n        \r\n        </el-col>\r\n      </el-row>\r\n      <el-row style=\"padding: 0;margin: 0\">\r\n        <el-col :span=\"6\">\r\n          <el-button style=\"color: #0084ff;background-color: rgba(0,132,255,.1);\"><i class=\"el-icon-caret-top\"></i>赞同 {{item.likes_num}}</el-button>\r\n          <el-button icon=\"el-icon-caret-bottom\" style=\"color: #0084ff;background-color: rgba(0,132,255,.1);\"></el-button>\r\n        </el-col>\r\n        <el-row>\r\n          <el-col :span=\"3\" style=\"\">\r\n\r\n            <el-button type=\"text\" style=\"color: #999999;\"><i class=\"el-icon-message\"></i>{{item.comment_num}} 条评论</el-button>\r\n          </el-col>\r\n          <el-col :span=\"2\" style=\"\">          <el-button type=\"text\" style=\"color: #999999;\"><i class=\"el-icon-share\"></i>分享</el-button>\r\n          </el-col>\r\n          <el-col :span=\"2\" style=\"\">\r\n            <el-button type=\"text\" style=\"color: #999999;\"><i class=\"el-icon-star-on\"></i>收藏</el-button>\r\n          </el-col>\r\n          <el-col :span=\"2\" style=\"\">\r\n            <el-button type=\"text\" style=\"color: #999999;\"><i class=\"el-icon-heavy-rain\"></i>喜欢</el-button>\r\n          </el-col>\r\n          <el-col :span=\"2\">\r\n            <el-dropdown  style=\"padding: 10px\">\r\n              <i class=\"el-icon-more\"></i>\r\n              <el-dropdown-menu slot=\"dropdown\">\r\n                <el-dropdown-item>没有帮助</el-dropdown-item>\r\n                <el-dropdown-item>举报</el-dropdown-item>\r\n                <el-dropdown-item>不感兴趣</el-dropdown-item>\r\n              </el-dropdown-menu>\r\n\r\n            </el-dropdown>\r\n\r\n          </el-col>\r\n          <el-col :span=\"3\" style=\"\">\r\n            <el-button type=\"danger\" icon=\"el-icon-delete\" circle size=\"small\" @click=\"userDeletePost(item.post_id)\"></el-button>\r\n          </el-col>\r\n        </el-row>\r\n\r\n      </el-row>\r\n      </div>\r\n\r\n    \r\n\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport qs from \"qs\"\r\nexport default {\r\n  name: \"Group\",\r\n  components: {},\r\n  props: {},\r\n  data() {\r\n    return {\r\n        user_id:this.$store.state.user_id,\r\n        groupId:this.$store.state.groupId,\r\n        create_user_pic_path:\"http://127.0.0.1:8000/media/0.jpg\",\r\n        create_user_pic:require(\"E:/大三上/数据库/大作业/frontend/mix/src/assets/3.png\"),\r\n        gpname:'LOL',\r\n        gp_desc:'网游巅峰',\r\n        post_num:2,\r\n        create_user_name:'zlb',\r\n        tags:['MOBA'],\r\n        gettime:\"\",\r\n        usertag:'',\r\n        form: {\r\n          name: '',\r\n          context: ''\r\n        },\r\n        dialog: false,\r\n        loading: false,\r\n        formLabelWidth: '80px',\r\n        timer: null,\r\n        posts:[\r\n          {\r\n            \"post_id\" : 1,\r\n\t\t\t      \"post_name\" : \"DRX夺冠引热议,Deft最后一舞泪洒赛场\",\r\n\t\t\t      \"context\" : \"详细略\",\r\n            \"post_time\" : \"2022-11-16 21:44:30\",\r\n            \"comment_num\" : 2,\r\n            \"likes_num\" : 999,\r\n            \"create_user_name\" : \"ghy\",\r\n            \"create_user_pic\":\"\"\r\n          },\r\n          {\r\n            \"post_id\" : 2,\r\n\t\t\t      \"post_name\" : \"北航期末考试大作业重叠,学生不堪重负\",\r\n\t\t\t      \"context\" : \"详细略\",\r\n            \"post_time\" : \"2022-11-19 11:13:30\",\r\n            \"comment_num\" : 999,\r\n            \"likes_num\" : 9999,\r\n            \"create_user_name\" : \"匿名\",\r\n            \"create_user_pic\":\"\"\r\n          },\r\n        ]\r\n    };\r\n  },\r\n  watch: {},\r\n  computed: {},\r\n  methods: {\r\n    getAll(){\r\n        this.$http({\r\n              method: 'post',\r\n              url: '/api/getGroupInfo',\r\n              data: qs.stringify({\r\n                groupId:this.groupId\r\n              })\r\n          }).then((res) => {\r\n              console.log(res.data)\r\n              this.gpname = res.data.group_name;\r\n              this.gp_desc = res.data.group_description;\r\n              this.post_num = res.data.post_num;\r\n              this.create_user_name = res.data.create_user_name;\r\n              this.tags = res.data.tags;\r\n              this.posts = res.data.posts;\r\n              this.create_user_pic_path = res.data.create_user_pic;\r\n          })\r\n      },\r\n      getTime() {\r\n      var _this = this;\r\n        let yy = new Date().getFullYear();\r\n        var mm =\r\n          new Date().getMonth() > 9\r\n            ? new Date().getMonth() + 1\r\n            : new Date().getMonth() == 9\r\n            ? new Date().getMonth() + 1\r\n            : '0' + (new Date().getMonth() + 1);\r\n        var dd = new Date().getDate() < 10 ? '0' + new Date().getDate() : new Date().getDate();\r\n        let hh = new Date().getHours();\r\n        let mf =\r\n          new Date().getMinutes() < 10 ? '0' + new Date().getMinutes() : new Date().getMinutes();\r\n        let ss =\r\n          new Date().getSeconds() < 10 ? '0' + new Date().getSeconds() : new Date().getSeconds();\r\n        _this.gettime = yy + '-' + mm + '-' + dd + ' ' + hh + ':' + mf + ':' + ss;\r\n      },\r\n      currentTime() {\r\n        setInterval(this.getTime, 1000);\r\n      },\r\n      userAddTagToGroup(){\r\n        console.log(this.usertag)\r\n        this.$http({\r\n              method: 'post',\r\n              url: '/api/userAddTagToGroup',\r\n              data: qs.stringify({\r\n                userId:this.user_id,\r\n                groupId:this.groupId,\r\n                tagName:this.usertag\r\n              })\r\n          }).then((res) => {\r\n              this.tags.push(this.usertag)\r\n              this.usertag = \"\"\r\n              alert(\"添加成功!\")\r\n          })\r\n      },\r\n      userCreatePost(done){\r\n        if (this.loading) {\r\n          return;\r\n        }\r\n        this.$confirm('确定要提交表单吗？')\r\n        .then(_ => {\r\n          this.loading = true;\r\n          this.timer = setTimeout(() => {\r\n            done();\r\n            this.$http({\r\n              method: 'post',\r\n              url: '/api/userCreatePost',\r\n              data: qs.stringify({\r\n                userId:this.user_id,\r\n                groupId:this.groupId,\r\n                post_name:this.form.name,\r\n                context:this.form.context,\r\n                post_time:this.gettime\r\n              })\r\n          }).then((res) => {\r\n              alert(\"评论成功!\")\r\n          })\r\n\r\n            \r\n            // 动画关闭需要一定的时间\r\n            setTimeout(() => {\r\n                this.loading = false;\r\n              }, 400);\r\n            }, 2000);\r\n            console.log(this.form)\r\n        })\r\n        .catch(_ => {});\r\n        \r\n      },\r\n      cancelForm() {\r\n        this.loading = false;\r\n        this.dialog = false;\r\n        clearTimeout(this.timer);\r\n      },\r\n      intoPost(id){\r\n        console.log(id)\r\n        this.$store.commit(\"setPostid\",id)\r\n        this.$router.push(\"/post\")\r\n      },\r\n      userDeletePost(id){\r\n        console.log(id);\r\n        this.$http({\r\n              method: 'post',\r\n              url: '/api/userDeletePost',\r\n              data: qs.stringify({\r\n                userId:this.$store.state.user_id,\r\n                postId:id,\r\n              })\r\n          }).then((res) => {\r\n            console.log(res.data)\r\n            if (res.data.status == 'success'){\r\n                  alert(\"删除成功\");\r\n                  this.getHotGroupIntro();\r\n            }\r\n            else{\r\n              alert(\"删除失败,你无权删除此帖子!\")\r\n            }\r\n          })\r\n      }\r\n  },\r\n  // created() {this.getAll()},\r\n  mounted() {\r\n      this.currentTime();\r\n  },\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n  .pic_table {\r\n    position: relative;\r\n    width: 1000px;\r\n    height: 200px;\r\n  }\r\n\r\n  .pic_table infoaddr {\r\n    position: absolute;\r\n    left: 120px;\r\n    bottom: 100px;\r\n  }\r\n\r\n  .pic_table postnum {\r\n    position: absolute;\r\n    left: 200px;\r\n    bottom: 100px;\r\n  }\r\n\r\n  .pic_table tagsaddr {\r\n    position: absolute;\r\n    left: 700px;\r\n    bottom: 100px;\r\n  }\r\n\r\n  .pic_table tagsedit {\r\n    position: absolute;\r\n    left: 300px;\r\n    bottom: 100px;\r\n  }\r\n\r\n  .pic_table tagseditcontent {\r\n    position: absolute;\r\n    left: 350px;\r\n    bottom: 100px;\r\n  }\r\n</style>"]}]}