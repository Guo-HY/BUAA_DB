{"remainingRequest":"F:\\大三上\\数据库\\12_18\\BUAA_DB\\node_modules\\babel-loader\\lib\\index.js!F:\\大三上\\数据库\\12_18\\BUAA_DB\\node_modules\\cache-loader\\dist\\cjs.js??ref--1-0!F:\\大三上\\数据库\\12_18\\BUAA_DB\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!F:\\大三上\\数据库\\12_18\\BUAA_DB\\src\\views\\UserInfoView.vue?vue&type=script&lang=js&","dependencies":[{"path":"F:\\大三上\\数据库\\12_18\\BUAA_DB\\src\\views\\UserInfoView.vue","mtime":1671623135295},{"path":"F:\\大三上\\数据库\\12_18\\BUAA_DB\\babel.config.js","mtime":1671622355630},{"path":"F:\\大三上\\数据库\\12_18\\BUAA_DB\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1671622357599},{"path":"F:\\大三上\\数据库\\12_18\\BUAA_DB\\node_modules\\babel-loader\\lib\\index.js","mtime":1671622357031},{"path":"F:\\大三上\\数据库\\12_18\\BUAA_DB\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1671622357599},{"path":"F:\\大三上\\数据库\\12_18\\BUAA_DB\\node_modules\\vue-loader\\lib\\index.js","mtime":1671622362657}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IHFzIGZyb20gInFzIjsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICJVc2VySW5mb1ZpZXciLAoKICBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgdXNlcklkOiB0aGlzLiRzdG9yZS5zdGF0ZS51c2VyX2lkLAogICAgICB1c2VyTmFtZTogJ+a1geiLseaIkOWSjCcsCiAgICAgIGdlbmRlcjogJ+WlsycsCiAgICAgIGFnZTogJzIwJywKICAgICAgYWRkcmVzczogJ+WMl+S6rOiIquepuuiIquWkqeWkp+WtpicsCiAgICAgIGNvbnRhY3Q6ICcxMzN4eHgnLAogICAgICBkeW5hbWljVGFnczogWycxMjMnLCAnNDU2JywgJzc4OSddLAogICAgICBpbnB1dFZpc2libGU6IGZhbHNlLAogICAgICBjaGFuZ2luZzogZmFsc2UsCiAgICAgIGlucHV0VmFsdWU6ICcnLAogICAgICBwaWNfcGF0aDogIiIKICAgIH07CiAgfSwKCiAgY3JlYXRlZCgpIHsKICAgIHRoaXMuZ2V0VXNlckluZm8oKTsKICAgIHRoaXMuZ2V0VXNlclRhZygpOwogICAgdGhpcy5nZXRVc2VySGVhZFBpYygpOwogIH0sCgogIG1ldGhvZHM6IHsKICAgIGdldEltYWdlRmlsZTogZnVuY3Rpb24gKGUpIHsKICAgICAgbGV0IGZpbGUgPSBlLnRhcmdldC5maWxlc1swXTsKICAgICAgdGhpcy5waWMgPSBmaWxlOwogICAgfSwKCiAgICB1cGxvYWRVc2VyUHJvZmlsZVBpYygpIHsKICAgICAgbGV0IGZvcm1EYXRhID0gbmV3IEZvcm1EYXRhKCk7CiAgICAgIGZvcm1EYXRhLmFwcGVuZCgncGljJywgdGhpcy5waWMpOwogICAgICB0aGlzLiRodHRwKHsKICAgICAgICBtZXRob2Q6ICdwb3N0JywKICAgICAgICB1cmw6ICcvYXBpL3VwbG9hZFVzZXJQcm9maWxlUGljJywKICAgICAgICBkYXRhOiBmb3JtRGF0YQogICAgICB9KS50aGVuKHJlcyA9PiB7CiAgICAgICAgY29uc29sZS5sb2cocmVzLmRhdGEuc3RhdHVzKTsKICAgICAgfSkuY2F0Y2goZXJyID0+IHsKICAgICAgICBjb25zb2xlLmxvZyhlcnIpOwogICAgICB9KTsKICAgICAgdGhpcy5nZXRVc2VySGVhZFBpYygpOwogICAgfSwKCiAgICBoYW5kbGVDbG9zZSh0YWcpIHsKICAgICAgdGhpcy4kaHR0cCh7CiAgICAgICAgbWV0aG9kOiAncG9zdCcsCiAgICAgICAgdXJsOiAnL2FwaS91c2VyRGVsZXRlVGFnJywKCiAgICAgICAgLyog5oyH5piO5ZCO56uvIGFwaSDot6/lvoTvvIznlLHkuo7lnKggbWFpbi5qcyDlt7LmjIflrprmoLnot6/lvoTvvIzlm6DmraTlnKjmraTlpITlj6rpnIDlhpnnm7jlr7not6/nlLEgKi8KICAgICAgICBkYXRhOiBxcy5zdHJpbmdpZnkoewogICAgICAgICAgLyog6ZyA6KaB5ZCR5ZCO56uv5Lyg6L6T55qE5pWw5o2u77yM5q2k5aSE5L2/55SoIHFzLnN0cmluZ2lmeSDlsIYganNvbiDmlbDmja7luo/liJfljJbku6Xlj5HpgIHlkI7nq68gKi8KICAgICAgICAgIHVzZXJJZDogdGhpcy4kc3RvcmUuc3RhdGUudXNlcl9pZCwKICAgICAgICAgIHRhZ05hbWU6IHRhZwogICAgICAgIH0pCiAgICAgIH0pLnRoZW4ocmVzID0+IHsKICAgICAgICAvKiByZXMg5pivIHJlc3BvbnNlIOeahOe8qeWGmSAqLwogICAgICAgIGNvbnNvbGUubG9nKHJlcy5kYXRhLnN0YXR1cyk7CiAgICAgICAgdGhpcy5nZXRVc2VyVGFnKCk7CiAgICAgIH0pLmNhdGNoKGVyciA9PiB7CiAgICAgICAgY29uc29sZS5sb2coZXJyKTsKICAgICAgICAvKiDoi6Xlh7rnjrDlvILluLjliJnlnKjnu4jnq6/ovpPlh7rnm7jlhbPkv6Hmga8gKi8KICAgICAgfSk7IC8vIHRoaXMuZHluYW1pY1RhZ3Muc3BsaWNlKHRoaXMuZHluYW1pY1RhZ3MuaW5kZXhPZih0YWcpLCAxKTsKICAgIH0sCgogICAgc2hvd0lucHV0KCkgewogICAgICB0aGlzLmlucHV0VmlzaWJsZSA9IHRydWU7CiAgICB9LAoKICAgIGhhbmRsZUlucHV0Q29uZmlybSgpIHsKICAgICAgbGV0IGlucHV0VmFsdWUgPSB0aGlzLmlucHV0VmFsdWU7CgogICAgICBpZiAoaW5wdXRWYWx1ZSkgewogICAgICAgIC8vIHRoaXMuZHluYW1pY1RhZ3MucHVzaChpbnB1dFZhbHVlKTsKICAgICAgICB0aGlzLmFkZFVzZXJUYWcoaW5wdXRWYWx1ZSk7CiAgICAgIH0KCiAgICAgIHRoaXMuaW5wdXRWaXNpYmxlID0gZmFsc2U7CiAgICAgIHRoaXMuaW5wdXRWYWx1ZSA9ICcnOwogICAgfSwKCiAgICBnZXRVc2VySGVhZFBpYygpIHsKICAgICAgdGhpcy4kaHR0cCh7CiAgICAgICAgbWV0aG9kOiAncG9zdCcsCiAgICAgICAgdXJsOiAnL2FwaS9wcmV2aWV3VXNlclByb2ZpbGVQaWMnLAogICAgICAgIGRhdGE6IHFzLnN0cmluZ2lmeSh7CiAgICAgICAgICB1c2VySWQ6IHRoaXMuJHN0b3JlLnN0YXRlLnVzZXJfaWQKICAgICAgICB9KQogICAgICB9KS50aGVuKHJlcyA9PiB7CiAgICAgICAgdGhpcy5waWNfcGF0aCA9IHJlcy5kYXRhLnBpY19wYXRoOwogICAgICAgIGNvbnNvbGUubG9nKHJlcy5kYXRhKTsKICAgICAgfSkuY2F0Y2goZXJyID0+IHsKICAgICAgICBjb25zb2xlLmxvZyhlcnIpOwogICAgICB9KTsKICAgIH0sCgogICAgZ2V0VXNlckluZm8oKSB7CiAgICAgIHRoaXMuJGh0dHAoewogICAgICAgIG1ldGhvZDogJ3Bvc3QnLAogICAgICAgIHVybDogJy9hcGkvZ2V0VXNlckluZm8nLAoKICAgICAgICAvKiDmjIfmmI7lkI7nq68gYXBpIOi3r+W+hO+8jOeUseS6juWcqCBtYWluLmpzIOW3suaMh+Wumuaguei3r+W+hO+8jOWboOatpOWcqOatpOWkhOWPqumcgOWGmeebuOWvuei3r+eUsSAqLwogICAgICAgIGRhdGE6IHFzLnN0cmluZ2lmeSh7CiAgICAgICAgICAvKiDpnIDopoHlkJHlkI7nq6/kvKDovpPnmoTmlbDmja7vvIzmraTlpITkvb/nlKggcXMuc3RyaW5naWZ5IOWwhiBqc29uIOaVsOaNruW6j+WIl+WMluS7peWPkemAgeWQjuerryAqLwogICAgICAgICAgdXNlcklkOiB0aGlzLiRzdG9yZS5zdGF0ZS51c2VyX2lkCiAgICAgICAgfSkKICAgICAgfSkudGhlbihyZXMgPT4gewogICAgICAgIC8qIHJlcyDmmK8gcmVzcG9uc2Ug55qE57yp5YaZICovCiAgICAgICAgdGhpcy51c2VyTmFtZSA9IHJlcy5kYXRhLnVzZXJOYW1lOwogICAgICAgIHRoaXMuZ2VuZGVyID0gcmVzLmRhdGEuZ2VuZGVyOwogICAgICAgIHRoaXMuYWdlID0gcmVzLmRhdGEuYWdlOwogICAgICAgIHRoaXMuYWRkcmVzcyA9IHJlcy5kYXRhLmFkZHJlc3M7CiAgICAgICAgdGhpcy5jb250YWN0ID0gcmVzLmRhdGEuY29udGFjdDsKICAgICAgICBjb25zb2xlLmxvZyhyZXMuZGF0YSk7CiAgICAgIH0pLmNhdGNoKGVyciA9PiB7CiAgICAgICAgY29uc29sZS5sb2coZXJyKTsKICAgICAgICAvKiDoi6Xlh7rnjrDlvILluLjliJnlnKjnu4jnq6/ovpPlh7rnm7jlhbPkv6Hmga8gKi8KICAgICAgfSk7CiAgICB9LAoKICAgIGFkZFVzZXJUYWcoaW5wdXRWYWx1ZSkgewogICAgICB0aGlzLiRodHRwKHsKICAgICAgICBtZXRob2Q6ICdwb3N0JywKICAgICAgICB1cmw6ICcvYXBpL3VzZXJBZGRUYWcnLAoKICAgICAgICAvKiDmjIfmmI7lkI7nq68gYXBpIOi3r+W+hO+8jOeUseS6juWcqCBtYWluLmpzIOW3suaMh+Wumuaguei3r+W+hO+8jOWboOatpOWcqOatpOWkhOWPqumcgOWGmeebuOWvuei3r+eUsSAqLwogICAgICAgIGRhdGE6IHFzLnN0cmluZ2lmeSh7CiAgICAgICAgICAvKiDpnIDopoHlkJHlkI7nq6/kvKDovpPnmoTmlbDmja7vvIzmraTlpITkvb/nlKggcXMuc3RyaW5naWZ5IOWwhiBqc29uIOaVsOaNruW6j+WIl+WMluS7peWPkemAgeWQjuerryAqLwogICAgICAgICAgdXNlcklkOiB0aGlzLiRzdG9yZS5zdGF0ZS51c2VyX2lkLAogICAgICAgICAgdGFnTmFtZTogaW5wdXRWYWx1ZQogICAgICAgIH0pCiAgICAgIH0pLnRoZW4ocmVzID0+IHsKICAgICAgICAvKiByZXMg5pivIHJlc3BvbnNlIOeahOe8qeWGmSAqLwogICAgICAgIGNvbnNvbGUubG9nKHJlcy5kYXRhLnN0YXR1cyk7CiAgICAgICAgdGhpcy5nZXRVc2VyVGFnKCk7CiAgICAgIH0pLmNhdGNoKGVyciA9PiB7CiAgICAgICAgY29uc29sZS5sb2coZXJyKTsKICAgICAgICAvKiDoi6Xlh7rnjrDlvILluLjliJnlnKjnu4jnq6/ovpPlh7rnm7jlhbPkv6Hmga8gKi8KICAgICAgfSk7CiAgICB9LAoKICAgIGdldFVzZXJUYWcoKSB7CiAgICAgIHRoaXMuJGh0dHAoewogICAgICAgIG1ldGhvZDogJ3Bvc3QnLAogICAgICAgIHVybDogJy9hcGkvZ2V0VXNlclRhZycsCgogICAgICAgIC8qIOaMh+aYjuWQjuerryBhcGkg6Lev5b6E77yM55Sx5LqO5ZyoIG1haW4uanMg5bey5oyH5a6a5qC56Lev5b6E77yM5Zug5q2k5Zyo5q2k5aSE5Y+q6ZyA5YaZ55u45a+56Lev55SxICovCiAgICAgICAgZGF0YTogcXMuc3RyaW5naWZ5KHsKICAgICAgICAgIC8qIOmcgOimgeWQkeWQjuerr+S8oOi+k+eahOaVsOaNru+8jOatpOWkhOS9v+eUqCBxcy5zdHJpbmdpZnkg5bCGIGpzb24g5pWw5o2u5bqP5YiX5YyW5Lul5Y+R6YCB5ZCO56uvICovCiAgICAgICAgICB1c2VySWQ6IHRoaXMuJHN0b3JlLnN0YXRlLnVzZXJfaWQKICAgICAgICB9KQogICAgICB9KS50aGVuKHJlcyA9PiB7CiAgICAgICAgLyogcmVzIOaYryByZXNwb25zZSDnmoTnvKnlhpkgKi8KICAgICAgICB0aGlzLmR5bmFtaWNUYWdzID0gcmVzLmRhdGEuZHluYW1pY1RhZ3M7CiAgICAgICAgY29uc29sZS5sb2cocmVzLmRhdGEpOwogICAgICB9KS5jYXRjaChlcnIgPT4gewogICAgICAgIGNvbnNvbGUubG9nKGVycik7CiAgICAgICAgLyog6Iul5Ye6546w5byC5bi45YiZ5Zyo57uI56uv6L6T5Ye655u45YWz5L+h5oGvICovCiAgICAgIH0pOwogICAgfSwKCiAgICB0b0NoYW5nZUluZm8oKSB7CiAgICAgIHRoaXMuY2hhbmdpbmcgPSB0cnVlOwogICAgfSwKCiAgICBjaGFuZ2VVc2VySW5mbygpIHsKICAgICAgLy8gd2luZG93LmFsZXJ0KCLkv67mlLnmiJDlip8iKTsKICAgICAgdGhpcy5jaGFuZ2luZyA9IGZhbHNlOwogICAgICB0aGlzLiRodHRwKHsKICAgICAgICBtZXRob2Q6ICdwb3N0JywKICAgICAgICB1cmw6ICcvYXBpL2NoYW5nZVVzZXJJbmZvJywKCiAgICAgICAgLyog5oyH5piO5ZCO56uvIGFwaSDot6/lvoTvvIznlLHkuo7lnKggbWFpbi5qcyDlt7LmjIflrprmoLnot6/lvoTvvIzlm6DmraTlnKjmraTlpITlj6rpnIDlhpnnm7jlr7not6/nlLEgKi8KICAgICAgICBkYXRhOiBxcy5zdHJpbmdpZnkoewogICAgICAgICAgLyog6ZyA6KaB5ZCR5ZCO56uv5Lyg6L6T55qE5pWw5o2u77yM5q2k5aSE5L2/55SoIHFzLnN0cmluZ2lmeSDlsIYganNvbiDmlbDmja7luo/liJfljJbku6Xlj5HpgIHlkI7nq68gKi8KICAgICAgICAgIHVzZXJJZDogdGhpcy4kc3RvcmUuc3RhdGUudXNlcl9pZCwKICAgICAgICAgIHVzZXJOYW1lOiB0aGlzLnVzZXJOYW1lLAogICAgICAgICAgZ2VuZGVyOiB0aGlzLmdlbmRlciwKICAgICAgICAgIGFnZTogdGhpcy5hZ2UsCiAgICAgICAgICBhZGRyZXNzOiB0aGlzLmFkZHJlc3MsCiAgICAgICAgICBjb250YWN0OiB0aGlzLmNvbnRhY3QKICAgICAgICB9KQogICAgICB9KS50aGVuKHJlcyA9PiB7CiAgICAgICAgLyogcmVzIOaYryByZXNwb25zZSDnmoTnvKnlhpkgKi8KICAgICAgICBzd2l0Y2ggKHJlcy5kYXRhLnN0YXR1cykgewogICAgICAgICAgY2FzZSAic3VjY2VzcyI6CiAgICAgICAgICAgIHdpbmRvdy5hbGVydCgi5L+u5pS55oiQ5YqfIik7CiAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgIGNhc2UgImZhaWwiOgogICAgICAgICAgICB3aW5kb3cuYWxlcnQoIuS/ruaUueWksei0pSIpOwogICAgICAgICAgICBicmVhazsKICAgICAgICB9CgogICAgICAgIGNvbnNvbGUubG9nKHJlcy5kYXRhKTsKICAgICAgICB0aGlzLmdldFVzZXJJbmZvKCk7CiAgICAgIH0pLmNhdGNoKGVyciA9PiB7CiAgICAgICAgY29uc29sZS5sb2coZXJyKTsKICAgICAgICAvKiDoi6Xlh7rnjrDlvILluLjliJnlnKjnu4jnq6/ovpPlh7rnm7jlhbPkv6Hmga8gKi8KICAgICAgfSk7CiAgICB9CgogIH0KfTs="},{"version":3,"mappings":"AAqGA;AACA;EACAA,oBADA;;EAEAC;IACA;MACAC,iCADA;MAEAC,gBAFA;MAGAC,WAHA;MAIAC,SAJA;MAKAC,mBALA;MAMAC,iBANA;MAOAC,kCAPA;MAQAC,mBARA;MASAC,eATA;MAUAC,cAVA;MAWAC;IAXA;EAcA,CAjBA;;EAkBAC;IACA;IACA;IACA;EACA,CAtBA;;EAuBAC;IACAC;MACA;MACA;IACA,CAJA;;IAKAC;MACA;MACAC;MACA;QACAC,cADA;QAEAC,gCAFA;QAGAlB;MAHA,GAIAmB,IAJA,CAIAC;QACAC;MACA,CANA,EAMAC,KANA,CAMAC;QACAF;MACA,CARA;MASA;IACA,CAlBA;;IAmBAG;MACA;QACAP,cADA;QAEAC,yBAFA;;QAEA;QACAlB;UAAA;UACAC,iCADA;UAEAwB;QAFA;MAHA,GAOAN,IAPA,CAOAC;QAAA;QACAC;QACA;MACA,CAVA,EAUAC,KAVA,CAUAC;QACAF;QAAA;MACA,CAZA,EADA,CAcA;IACA,CAlCA;;IAoCAK;MACA;IACA,CAtCA;;IAuCAC;MACA;;MACA;QACA;QACA;MACA;;MACA;MACA;IACA,CA/CA;;IAgDAC;MACA;QACAX,cADA;QAEAC,iCAFA;QAGAlB;UACAC;QADA;MAHA,GAMAkB,IANA,CAMAC;QACA;QACAC;MACA,CATA,EASAC,KATA,CASAC;QACAF;MACA,CAXA;IAYA,CA7DA;;IA8DAQ;MACA;QACAZ,cADA;QAEAC,uBAFA;;QAEA;QACAlB;UAAA;UACAC;QADA;MAHA,GAMAkB,IANA,CAMAC;QAAA;QACA;QACA;QACA;QACA;QACA;QACAC;MACA,CAbA,EAaAC,KAbA,CAaAC;QACAF;QAAA;MACA,CAfA;IAgBA,CA/EA;;IAgFAS;MACA;QACAb,cADA;QAEAC,sBAFA;;QAEA;QACAlB;UAAA;UACAC,iCADA;UAEAwB;QAFA;MAHA,GAOAN,IAPA,CAOAC;QAAA;QACAC;QACA;MACA,CAVA,EAUAC,KAVA,CAUAC;QACAF;QAAA;MACA,CAZA;IAaA,CA9FA;;IA+FAU;MACA;QACAd,cADA;QAEAC,sBAFA;;QAEA;QACAlB;UAAA;UACAC;QADA;MAHA,GAMAkB,IANA,CAMAC;QAAA;QACA;QACAC;MACA,CATA,EASAC,KATA,CASAC;QACAF;QAAA;MACA,CAXA;IAYA,CA5GA;;IA6GAW;MACA;IACA,CA/GA;;IAgHAC;MACA;MACA;MACA;QACAhB,cADA;QAEAC,0BAFA;;QAEA;QACAlB;UAAA;UACAC,iCADA;UAEAC,uBAFA;UAGAC,mBAHA;UAIAC,aAJA;UAKAC,qBALA;UAMAC;QANA;MAHA,GAWAa,IAXA,CAWAC;QAAA;QACA;UACA;YACAc;YACA;;UACA;YACAA;YACA;QANA;;QAQAb;QACA;MACA,CAtBA,EAsBAC,KAtBA,CAsBAC;QACAF;QAAA;MACA,CAxBA;IAyBA;;EA5IA;AAvBA","names":["name","data","userId","userName","gender","age","address","contact","dynamicTags","inputVisible","changing","inputValue","pic_path","created","methods","getImageFile","uploadUserProfilePic","formData","method","url","then","res","console","catch","err","handleClose","tagName","showInput","handleInputConfirm","getUserHeadPic","getUserInfo","addUserTag","getUserTag","toChangeInfo","changeUserInfo","window"],"sourceRoot":"src/views","sources":["UserInfoView.vue"],"sourcesContent":["<template>\r\n  <div>\r\n  <el-header class=\"el-header\">\r\n    <div>\r\n      <el-avatar src=\"`http://127.0.0.1:8000/${pic_path}`\">\r\n      <!-- <img class=\"img\" :src=\"`http://127.0.0.1:8000/${create_user_pic_path}`\"  width=\"100px\" height=\"100px\"></img> -->\r\n      </el-avatar>\r\n      <input type=\"file\" @change=\"getImageFile\" id=\"img\">\r\n      <el-button type=\"primary\" @click=\"uploadUserProfilePic\">确认添加</el-button>\r\n    </div>\r\n    <div>\r\n      {{userId}}\r\n    </div>\r\n  </el-header>\r\n  <el-main>\r\n    <el-tag\r\n        :key=\"tag\"\r\n        v-for=\"tag in dynamicTags\"\r\n        closable\r\n        @close=\"handleClose(tag)\">\r\n      {{tag}}\r\n    </el-tag>\r\n    <el-input\r\n        class=\"input-new-tag\"\r\n        v-if=\"inputVisible\"\r\n        v-model=\"inputValue\"\r\n        ref=\"saveTagInput\"\r\n        @keyup.enter=\"handleInputConfirm\"\r\n        @blur=\"handleInputConfirm\"\r\n    >\r\n    </el-input>\r\n    <el-button v-else class=\"button-new-tag\" size=\"small\" @click=\"showInput\">+ New Tag</el-button>\r\n  </el-main>\r\n  <el-main>\r\n    <el-button type=\"primary\" v-if=\"!changing\" @click=\"toChangeInfo\">修改信息</el-button>\r\n    <div v-else>\r\n      <el-button type=\"primary\" @click=\"changeUserInfo\">提交修改</el-button>\r\n    </div>\r\n\r\n    <el-descriptions class=\"margin-top\" title=\"个人信息\" border>\r\n      <el-descriptions-item>\r\n        <i class=\"el-icon-user\"></i>\r\n        用户名\r\n        <el-input\r\n            class=\"input-new-tag\"\r\n            v-if=\"changing\"\r\n            v-model=\"userName\"\r\n        >\r\n        </el-input>\r\n        <slot v-else>{{userName}}</slot>\r\n      </el-descriptions-item>\r\n      <el-descriptions-item>\r\n        <i class=\"el-icon-mobile-phone\"></i>\r\n        性别\r\n        <el-input\r\n            class=\"input-new-tag\"\r\n            v-if=\"changing\"\r\n            v-model=\"gender\"\r\n        >\r\n        </el-input>\r\n        <slot v-else>{{gender}}</slot>\r\n      </el-descriptions-item>\r\n      <el-descriptions-item>\r\n        <i class=\"el-icon-location-outline\"></i>\r\n        年龄\r\n        <el-input\r\n            class=\"input-new-tag\"\r\n            v-if=\"changing\"\r\n            v-model=\"age\"\r\n        >\r\n        </el-input>\r\n        <slot v-else>{{age}}</slot>\r\n      </el-descriptions-item>\r\n      <el-descriptions-item>\r\n        <i class=\"el-icon-tickets\"></i>\r\n        联系方式\r\n        <el-input\r\n            class=\"input-new-tag\"\r\n            v-if=\"changing\"\r\n            v-model=\"contact\"\r\n        >\r\n        </el-input>\r\n        <slot v-else>{{contact}}</slot>\r\n      </el-descriptions-item>\r\n      <el-descriptions-item>\r\n        <i class=\"el-icon-office-building\"></i>\r\n        联系地址\r\n        <el-input\r\n            class=\"input-new-tag\"\r\n            v-if=\"changing\"\r\n            v-model=\"address\"\r\n        >\r\n        </el-input>\r\n        <slot v-else>{{address}}</slot>\r\n      </el-descriptions-item>\r\n    </el-descriptions>\r\n  </el-main>\r\n</div>\r\n</template>\r\n\r\n<script>\r\nimport qs from \"qs\";\r\nexport default {\r\n  name: \"UserInfoView\",\r\n  data() {\r\n    return {\r\n      userId : this.$store.state.user_id,\r\n      userName : '流英成和',\r\n      gender : '女',\r\n      age : '20',\r\n      address : '北京航空航天大学',\r\n      contact : '133xxx',\r\n      dynamicTags: ['123', '456', '789'],\r\n      inputVisible: false,\r\n      changing: false,\r\n      inputValue: '',\r\n      pic_path:\"\",\r\n\r\n    };\r\n  },\r\n  created() {\r\n    this.getUserInfo();\r\n    this.getUserTag();\r\n    this.getUserHeadPic();\r\n  },\r\n  methods: {\r\n    getImageFile:function(e) {\r\n      let file = e.target.files[0];\r\n      this.pic = file;\r\n    },\r\n    uploadUserProfilePic() {\r\n      let formData = new FormData();\r\n      formData.append('pic', this.pic);\r\n      this.$http({\r\n        method: 'post',\r\n        url: '/api/uploadUserProfilePic',\r\n        data:formData\r\n      }).then(res => {\r\n        console.log(res.data.status);\r\n      }).catch(err => {\r\n        console.log(err);\r\n      })\r\n      this.getUserHeadPic();\r\n    },\r\n    handleClose(tag) {\r\n      this.$http({\r\n        method: 'post',\r\n        url: '/api/userDeleteTag',       /* 指明后端 api 路径，由于在 main.js 已指定根路径，因此在此处只需写相对路由 */\r\n        data: qs.stringify({      /* 需要向后端传输的数据，此处使用 qs.stringify 将 json 数据序列化以发送后端 */\r\n          userId : this.$store.state.user_id,\r\n          tagName : tag,\r\n        })\r\n      }).then(res => {              /* res 是 response 的缩写 */\r\n        console.log(res.data.status);\r\n        this.getUserTag();\r\n      }).catch(err => {\r\n        console.log(err);         /* 若出现异常则在终端输出相关信息 */\r\n      })\r\n      // this.dynamicTags.splice(this.dynamicTags.indexOf(tag), 1);\r\n    },\r\n\r\n    showInput() {\r\n      this.inputVisible = true;\r\n    },\r\n    handleInputConfirm() {\r\n      let inputValue = this.inputValue;\r\n      if (inputValue) {\r\n        // this.dynamicTags.push(inputValue);\r\n        this.addUserTag(inputValue);\r\n      }\r\n      this.inputVisible = false;\r\n      this.inputValue = '';\r\n    },\r\n    getUserHeadPic() {\r\n      this.$http({\r\n        method: 'post',\r\n        url: '/api/previewUserProfilePic',\r\n        data: qs.stringify({\r\n          userId : this.$store.state.user_id,\r\n        })\r\n      }).then(res => {\r\n        this.pic_path = res.data.pic_path;\r\n        console.log(res.data);\r\n      }).catch(err => {\r\n        console.log(err);\r\n      })\r\n    },\r\n    getUserInfo() {\r\n      this.$http({\r\n        method: 'post',\r\n        url: '/api/getUserInfo',       /* 指明后端 api 路径，由于在 main.js 已指定根路径，因此在此处只需写相对路由 */\r\n        data: qs.stringify({      /* 需要向后端传输的数据，此处使用 qs.stringify 将 json 数据序列化以发送后端 */\r\n          userId : this.$store.state.user_id,\r\n        })\r\n      }).then(res => {              /* res 是 response 的缩写 */\r\n        this.userName = res.data.userName;\r\n        this.gender = res.data.gender;\r\n        this.age = res.data.age;\r\n        this.address = res.data.address;\r\n        this.contact = res.data.contact;\r\n        console.log(res.data);\r\n      }).catch(err => {\r\n        console.log(err);         /* 若出现异常则在终端输出相关信息 */\r\n      })\r\n    },\r\n    addUserTag(inputValue) {\r\n      this.$http({\r\n        method: 'post',\r\n        url: '/api/userAddTag',       /* 指明后端 api 路径，由于在 main.js 已指定根路径，因此在此处只需写相对路由 */\r\n        data: qs.stringify({      /* 需要向后端传输的数据，此处使用 qs.stringify 将 json 数据序列化以发送后端 */\r\n          userId : this.$store.state.user_id,\r\n          tagName : inputValue,\r\n        })\r\n      }).then(res => {              /* res 是 response 的缩写 */\r\n        console.log(res.data.status);\r\n        this.getUserTag();\r\n      }).catch(err => {\r\n        console.log(err);         /* 若出现异常则在终端输出相关信息 */\r\n      })\r\n    },\r\n    getUserTag() {\r\n      this.$http({\r\n        method: 'post',\r\n        url: '/api/getUserTag',       /* 指明后端 api 路径，由于在 main.js 已指定根路径，因此在此处只需写相对路由 */\r\n        data: qs.stringify({      /* 需要向后端传输的数据，此处使用 qs.stringify 将 json 数据序列化以发送后端 */\r\n          userId : this.$store.state.user_id,\r\n        })\r\n      }).then(res => {              /* res 是 response 的缩写 */\r\n        this.dynamicTags = res.data.dynamicTags;\r\n        console.log(res.data);\r\n      }).catch(err => {\r\n        console.log(err);         /* 若出现异常则在终端输出相关信息 */\r\n      })\r\n    },\r\n    toChangeInfo() {\r\n      this.changing=true;\r\n    },\r\n    changeUserInfo() {\r\n      // window.alert(\"修改成功\");\r\n      this.changing=false;\r\n      this.$http({\r\n        method: 'post',\r\n        url: '/api/changeUserInfo',       /* 指明后端 api 路径，由于在 main.js 已指定根路径，因此在此处只需写相对路由 */\r\n        data: qs.stringify({      /* 需要向后端传输的数据，此处使用 qs.stringify 将 json 数据序列化以发送后端 */\r\n          userId : this.$store.state.user_id,\r\n          userName : this.userName,\r\n          gender : this.gender,\r\n          age : this.age,\r\n          address : this.address,\r\n          contact : this.contact,\r\n        })\r\n      }).then(res => {              /* res 是 response 的缩写 */\r\n        switch (res.data.status) {\r\n          case \"success\":\r\n            window.alert(\"修改成功\");\r\n            break;\r\n          case \"fail\":\r\n            window.alert(\"修改失败\");\r\n            break;\r\n        }\r\n        console.log(res.data);\r\n        this.getUserInfo();\r\n      }).catch(err => {\r\n        console.log(err);         /* 若出现异常则在终端输出相关信息 */\r\n      })\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.el-header{\r\n  height: 120px;\r\n}\r\n.el-tag + .el-tag {\r\n  margin-left: 40px;\r\n  height: 32px;\r\n}\r\n.button-new-tag {\r\n  margin-left: 20px;\r\n  height: 32px;\r\n  line-height: 30px;\r\n  padding-top: 0;\r\n  padding-bottom: 0;\r\n}\r\n.input-new-tag {\r\n  width: 120px;\r\n  margin-left: 10px;\r\n  vertical-align: bottom;\r\n}\r\n</style>"]}]}