{"remainingRequest":"e:\\大三上\\数据库\\大作业\\frontend\\mix\\node_modules\\babel-loader\\lib\\index.js!e:\\大三上\\数据库\\大作业\\frontend\\mix\\node_modules\\cache-loader\\dist\\cjs.js??ref--1-0!e:\\大三上\\数据库\\大作业\\frontend\\mix\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!e:\\大三上\\数据库\\大作业\\frontend\\mix\\src\\components\\ChooseNo.vue?vue&type=script&lang=js&","dependencies":[{"path":"e:\\大三上\\数据库\\大作业\\frontend\\mix\\src\\components\\ChooseNo.vue","mtime":1664682008879},{"path":"e:\\大三上\\数据库\\大作业\\frontend\\mix\\babel.config.js","mtime":1663488182649},{"path":"e:\\大三上\\数据库\\大作业\\frontend\\mix\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1662974870267},{"path":"e:\\大三上\\数据库\\大作业\\frontend\\mix\\node_modules\\babel-loader\\lib\\index.js","mtime":1662974871420},{"path":"e:\\大三上\\数据库\\大作业\\frontend\\mix\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1662974870267},{"path":"e:\\大三上\\数据库\\大作业\\frontend\\mix\\node_modules\\vue-loader\\lib\\index.js","mtime":1662974872279}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IHFzIGZyb20gInFzIjsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICJDaG9vc2VObyIsCiAgY29tcG9uZW50czoge30sCiAgcHJvcHM6IHt9LAoKICBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgY2xhc3NlczogWy8vICAge25hbWU6Im9vIiwgaWQ6IjEiLCBudW06IjEwMCIsIGluZm86IuWQkeWvueixoSzlnKPmna/kuYvmiJgifSwKICAgICAgICAvLyAgIHtuYW1lOiJvcyIsIGlkOiIyIiwgbnVtOiIxMDAiLCBpbmZvOiLkvZzns7vnu58s5oqE5bCx6KGMIn0sCiAgICAgICAgLy8gICB7bmFtZToiY28iLCBpZDoiMyIsIG51bToiMTAwIiwgaW5mbzoi57uELOelreelliJ9LAogICAgICAgIC8vICAge25hbWU6ImludHJvIHRvIGFpIiwgaWQ6IjQiLG51bToiMTAwIiwgaW5mbzoi5Lq65bel5pm66IO95byV6K66LOawtOivviJ9CiAgICAgIF0sCiAgICAgIGhlYWRBcnI6IFt7CiAgICAgICAgbGFiZWw6ICfor77nqItJRCcsCiAgICAgICAgcHJvcDogImNvdXJzZV9pZCIsCiAgICAgICAgaW5kOiAxCiAgICAgIH0sIHsKICAgICAgICBsYWJlbDogJ+ivvueoi+WQjeensCcsCiAgICAgICAgcHJvcDogImNvdXJzZV9uYW1lIiwKICAgICAgICBpbmQ6IDIKICAgICAgfSwgewogICAgICAgIGxhYmVsOiAn6K++56iL5LuL57uNJywKICAgICAgICBwcm9wOiAnY291cnNlX2ludHJvJywKICAgICAgICBpbmQ6IDMKICAgICAgfSwgewogICAgICAgIGxhYmVsOiAn5Ymp5L2Z5Lq65pWwJywKICAgICAgICBwcm9wOiAnY291cnNlX2NhcGFjaXR5JywKICAgICAgICBpbmQ6IDQKICAgICAgfSwgewogICAgICAgIGxhYmVsOiAn5bey6YCJ5Lq65pWwJywKICAgICAgICBwcm9wOiAnY291cnNlX2VsZWN0ZWQnLAogICAgICAgIGluZDogNQogICAgICB9LCB7CiAgICAgICAgbGFiZWw6ICfmk43kvZwnLAogICAgICAgIGluZDogNgogICAgICB9XSwKICAgICAgc3R1ZGVudF9pZDogMgogICAgfTsKICB9LAoKICB3YXRjaDoge30sCiAgY29tcHV0ZWQ6IHt9LAogIG1ldGhvZHM6IHsKICAgIGZpbmQoKSB7CiAgICAgIHRoaXMuJGh0dHAoewogICAgICAgIG1ldGhvZDogJ3Bvc3QnLAogICAgICAgIHVybDogJy9hcGkvc3R1ZGVudENvdXJzZVBvc3QnLAogICAgICAgIGRhdGE6IHFzLnN0cmluZ2lmeSh7CiAgICAgICAgICBzdHVkZW50X2lkOiB0aGlzLnN0dWRlbnRfaWQKICAgICAgICB9KQogICAgICB9KS50aGVuKHJlcyA9PiB7CiAgICAgICAgY29uc29sZS5sb2cocmVzLmRhdGEuY2xhc3Nlcyk7CiAgICAgICAgdGhpcy5jbGFzc2VzID0gcmVzLmRhdGEuY2xhc3NlczsKICAgICAgfSk7CiAgICB9LAoKICAgIGNsaWNrd2l0aGRyYXcoY291cnNlX2lkKSB7CiAgICAgIGNvbnNvbGUubG9nKGNvdXJzZV9pZCk7CiAgICAgIHRoaXMuJGh0dHAoewogICAgICAgIG1ldGhvZDogJ3Bvc3QnLAogICAgICAgIHVybDogJy9hcGkvc3R1ZGVudENvdXJzZVdpdGhkcmF3JywKICAgICAgICBkYXRhOiBxcy5zdHJpbmdpZnkoewogICAgICAgICAgc3R1ZGVudF9pZDogdGhpcy5zdHVkZW50X2lkLAogICAgICAgICAgY291cnNlX2lkOiBjb3Vyc2VfaWQKICAgICAgICB9KQogICAgICB9KS50aGVuKHJlcyA9PiB7CiAgICAgICAgaWYgKHJlcy5kYXRhLnN0YXR1cyA9PSAnc3VjY2VzcycpIHsKICAgICAgICAgIGFsZXJ0KCLpgIDor77miJDlip8iKTsKICAgICAgICAgIHRoaXMuJHJvdXRlci5wdXNoKCIvY2hvb3NlY2xhc3MiKTsgLy8g5YiH5o2i6Lev55SxCgogICAgICAgICAgdGhpcy5maW5kKCk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIGFsZXJ0KCLpgIDor77lpLHotKUs5q2k5Li65b+F5L+u6K++ISIpOwogICAgICAgIH0KICAgICAgfSk7CiAgICB9CgogIH0sCgogIGNyZWF0ZWQoKSB7CiAgICB0aGlzLmZpbmQoKTsKICB9LAoKICBtb3VudGVkKCkge30KCn07"},{"version":3,"mappings":"AA0BA;AACA;EACAA,gBADA;EAEAC,cAFA;EAGAC,SAHA;;EAIAC;IACA;MACAC,UACA;QACA;QACA;QACA;MAJA,CADA;MAOAC,UACA;QAAAC;QAAAC;QAAAC;MAAA,CADA,EAEA;QAAAF;QAAAC;QAAAC;MAAA,CAFA,EAGA;QAAAF;QAAAC;QAAAC;MAAA,CAHA,EAIA;QAAAF;QAAAC;QAAAC;MAAA,CAJA,EAKA;QAAAF;QAAAC;QAAAC;MAAA,CALA,EAMA;QAAAF;QAAAE;MAAA,CANA,CAPA;MAeAC;IAfA;EAiBA,CAtBA;;EAuBAC,SAvBA;EAwBAC,YAxBA;EAyBAC;IACAC;MACA;QACAC,cADA;QAEAC,6BAFA;QAGAZ;UACAM;QADA;MAHA,GAMAO,IANA,CAMAC;QACAC;QACA;MACA,CATA;IAUA,CAZA;;IAaAC;MACAD;MACA;QACAJ,cADA;QAEAC,iCAFA;QAGAZ;UACAM,2BADA;UAEAW;QAFA;MAHA,GAOAJ,IAPA,CAOAC;QACA;UACAI;UACA,kCAFA,CAEA;;UACA;QACA,CAJA,MAKA;UACAA;QACA;MACA,CAhBA;IAiBA;;EAhCA,CAzBA;;EA2DAC;IACA;EACA,CA7DA;;EA8DAC;;AA9DA","names":["name","components","props","data","classes","headArr","label","prop","ind","student_id","watch","computed","methods","find","method","url","then","res","console","clickwithdraw","course_id","alert","created","mounted"],"sourceRoot":"src/components","sources":["ChooseNo.vue"],"sourcesContent":["<template>\r\n  <div>\r\n    <el-table\r\n            :data=\"classes\"\r\n            stripe\r\n            style=\"width: 100%\">\r\n            <template v-for=\"(item,index) in headArr\">\r\n                console.log(index)\r\n                <el-table-column :key=\"index\" v-if=\"item.ind===6\" :label=\"item.label\" align=\"center\">\r\n                  <template slot-scope=\"scope\">\r\n                        <el-button href=\"javascript:;\" @click=\"clickwithdraw(scope.row.course_id)\" type=\"text\" size=\"small\">退选</el-button>\r\n                    </template>\r\n                </el-table-column>\r\n                <el-table-column :key=\"index\" v-else :prop=\"item.prop\" :label=\"item.label\" align=\"center\">\r\n                    <template scope=\"scope\">\r\n                        <span>\r\n                            {{scope.row[item.prop]}}\r\n                        </span>\r\n                    </template>\r\n                </el-table-column>\r\n            </template>    \r\n        </el-table>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport qs from \"qs\"\r\nexport default {\r\n  name: \"ChooseNo\",\r\n  components: {},\r\n  props: {},\r\n  data() {\r\n    return {\r\n      classes:[\r\n        //   {name:\"oo\", id:\"1\", num:\"100\", info:\"向对象,圣杯之战\"},\r\n        //   {name:\"os\", id:\"2\", num:\"100\", info:\"作系统,抄就行\"},\r\n        //   {name:\"co\", id:\"3\", num:\"100\", info:\"组,祭祖\"},\r\n        //   {name:\"intro to ai\", id:\"4\",num:\"100\", info:\"人工智能引论,水课\"}\r\n      ],\r\n      headArr:[\r\n            {label:'课程ID', prop:\"course_id\", ind:1},\r\n            {label:'课程名称', prop:\"course_name\", ind:2},\r\n            {label:'课程介绍' , prop : 'course_intro', ind:3},\r\n            {label:'剩余人数' , prop : 'course_capacity', ind:4},\r\n            {label:'已选人数', prop : 'course_elected', ind:5},\r\n            {label:'操作', ind:6}\r\n      ],\r\n      student_id:2\r\n    };\r\n  },\r\n  watch: {},\r\n  computed: {},\r\n  methods: {\r\n    find(){\r\n          this.$http({\r\n              method: 'post',\r\n              url: '/api/studentCoursePost',\r\n              data: qs.stringify({\r\n                student_id:this.student_id\r\n              })\r\n          }).then((res) => {\r\n              console.log(res.data.classes)\r\n              this.classes = res.data.classes\r\n          })\r\n    },\r\n    clickwithdraw(course_id){\r\n          console.log(course_id)\r\n          this.$http({\r\n              method: 'post',\r\n              url: '/api/studentCourseWithdraw',\r\n              data: qs.stringify({\r\n                student_id:this.student_id,\r\n                course_id:course_id\r\n              })\r\n          }).then((res) => {\r\n            if (res.data.status == 'success'){\r\n                alert(\"退课成功\"); \r\n                this.$router.push(\"/chooseclass\") // 切换路由\r\n                this.find()\r\n            }\r\n            else{\r\n                alert(\"退课失败,此为必修课!\")\r\n            }\r\n          })\r\n      }\r\n  },\r\n  created() {\r\n    this.find();\r\n  },\r\n  mounted() {}\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n\r\n</style>"]}]}