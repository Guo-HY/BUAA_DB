{"remainingRequest":"E:\\大三上\\数据库\\大作业\\frontend\\zlb1\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!E:\\大三上\\数据库\\大作业\\frontend\\zlb1\\src\\components\\User.vue?vue&type=script&lang=js&","dependencies":[{"path":"E:\\大三上\\数据库\\大作业\\frontend\\zlb1\\src\\components\\User.vue","mtime":1663504757962},{"path":"E:\\大三上\\数据库\\大作业\\frontend\\zlb1\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1662974870267},{"path":"E:\\大三上\\数据库\\大作业\\frontend\\zlb1\\node_modules\\babel-loader\\lib\\index.js","mtime":1662974871420},{"path":"E:\\大三上\\数据库\\大作业\\frontend\\zlb1\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1662974870267},{"path":"E:\\大三上\\数据库\\大作业\\frontend\\zlb1\\node_modules\\vue-loader\\lib\\index.js","mtime":1662974872279}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:DQogICAgaW1wb3J0IEZvb3RlciBmcm9tICcuL0Zvb3RlcicNCiAgICBleHBvcnQgZGVmYXVsdCB7DQogICAgICAgIG5hbWU6ICJVc2VyIiwNCiAgICAgICAgZGF0YSgpew0KICAgICAgICAgICAgcmV0dXJuew0KICAgICAgICAgICAgICAgIHVzZXJzOlsNCiAgICAgICAgICAgICAgICAgICAgLy8ge2lkOiIxIixuYW1lOiJ6bGIiLGFnZToxOH0sDQogICAgICAgICAgICAgICAgICAgIC8vIHtpZDoiMiIsbmFtZToiemJsIixhZ2U6ODF9DQogICAgICAgICAgICAgICAgXSwNCiAgICAgICAgICAgICAgICBoZWFkQXJyOlsNCiAgICAgICAgICAgICAgICAgICAge2xhYmVsOidJRCcsIHByb3A6ImlkIiwgaW5kOjF9LA0KICAgICAgICAgICAgICAgICAgICB7bGFiZWw6J+Wnk+WQjScgLCBwcm9wIDogJ25hbWUnLCBpbmQ6Mn0sDQogICAgICAgICAgICAgICAgICAgIHtsYWJlbDon5bm06b6EJyAsIHByb3AgOiAnYWdlJywgaW5kOjN9LA0KICAgICAgICAgICAgICAgICAgICB7bGFiZWw6J+eUn+aXpScgLCBwcm9wIDogJ2JpcicsIGluZDo0fSwNCiAgICAgICAgICAgICAgICAgICAge2xhYmVsOifmk43kvZwnLCBpbmQ6NX0NCiAgICAgICAgICAgICAgICBdDQogICAgICAgICAgICB9DQogICAgICAgIH0sDQogICAgICAgIG1ldGhvZHM6ew0KICAgICAgICAgICAgZmluZEFsbCgpeyAgLy/mn6Xor6LmiYDmnIkNCiAgICAgICAgICAgICAgICB0aGlzLiRodHRwLmdldCgiaHR0cDovL3JhcDJhcGkudGFvYmFvLm9yZy9hcHAvbW9jay8zMDY2NTgvaHR0cC91c2VyL2ZpbmRBbGw/cGFnZT0xJnJvd3M9NCIpLnRoZW4oKHJlcykgPT4gew0KICAgICAgICAgICAgICAgICAgICAvLyBjb25zb2xlLmxvZyhyZXMuZGF0YS5yZXN1bHRzWzBdWzJdKQ0KICAgICAgICAgICAgICAgICAgICB0aGlzLnVzZXJzID0gcmVzLmRhdGEucmVzdWx0czsNCiAgICAgICAgICAgICAgICB9KQ0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgIGRlbFJvdyhpZCl7DQogICAgICAgICAgICAgICAgY29uc29sZS5sb2coaWQpOw0KICAgICAgICAgICAgICAgIHRoaXMuJGh0dHAuZ2V0KCJodHRwOi8vcmFwMmFwaS50YW9iYW8ub3JnL2FwcC9tb2NrLzMwNjY1OC9odHRwL3VzZXIvZGVsZXRlP2lkPSIgKyBpZCkudGhlbigocmVzKSA9PiB7DQogICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKHJlcykNCiAgICAgICAgICAgICAgICAgICAgaWYgKHJlcy5kYXRhLnN1Y2Nlc3MpIHsNCiAgICAgICAgICAgICAgICAgICAgICAgIGFsZXJ0KHJlcy5kYXRhLm1zZyArICIs54K55Ye756Gu5a6a5Yi35paw5b2T5YmN5pWw5o2uIikNCiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGZpbmRBbGzml6Dlj5jljJbmmK/lm6DkuLrov5nph4znmoR1cmzmmK/nlKhyYXDmnoTlu7rnmoTlgYfmjqXlj6Ms6YeM6Z2i55qE5pWw5o2u5Zu65a6a5omA5Lul5LiN5Lya5Yi35pawLOWIsOaXtuWAmei/meWEv+aNouaIkOaVsOaNruW6k+eahOaOpeWPo+WwseWPr+S7peS5puS/oeS6hg0KICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5maW5kQWxsKCk7DQogICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICB9KQ0KICAgICAgICAgICAgfQ0KICAgICAgICB9LA0KICAgICAgICBjb21wb25lbnRzOnsNCiAgICAgICAgICAgIEZvb3Rlcg0KICAgICAgICB9LA0KICAgICAgICBjcmVhdGVkKCl7DQogICAgICAgICAgICAvL2F4aW9z6K+35rGCDQogICAgICAgICAgICAvL3VybOWfuuS6juWQjuerrw0KICAgICAgICAgICAgdGhpcy5maW5kQWxsKCk7ICAgIA0KICAgICAgICB9LA0KICAgICAgICB3YXRjaDp7IC8v55So5p2l55uR5ZCsLi4uDQogICAgICAgICAgICAkcm91dGU6eyAgICAvL+ebkeWQrOi3r+eUseWPmOaNog0KICAgICAgICAgICAgICAgIGhhbmRsZXI6IGZ1bmN0aW9uKHZhbCwgb2xkVmFsKXsNCiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2codmFsKSAgICAvLyDmiZPljbDlj5jmjaLlkI7nmoTot6/nlLENCiAgICAgICAgICAgICAgICAgICAgaWYgKHZhbC5wYXRoID09ICIvdXNlciIpIHsNCiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZmluZEFsbCgpDQogICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICB9LA0KICAgICAgICAgICAgICAgIC8vIOa3seW6puebkeWQrA0KICAgICAgICAgICAgICAgIGRlZXA6dHJ1ZQ0KICAgICAgICAgICAgfQ0KICAgICAgICB9DQogICAgfTsNCg=="},{"version":3,"sources":["User.vue"],"names":[],"mappings":";AAyDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"User.vue","sourceRoot":"src/components","sourcesContent":["<template>\r\n  <div>\r\n    <h1>用户列表</h1>\r\n        <el-table\r\n            :data=\"users\"\r\n            stripe\r\n            style=\"width: 100%\">\r\n            <template v-for=\"(item,index) in headArr\">\r\n                console.log(index)\r\n                <el-table-column :key=\"index\" v-if=\"item.ind===5\" :label=\"item.label\" align=\"center\">\r\n                    <template v-for=\"(user,index) in users\">\r\n                        <el-button :key=\"user.id\" href=\"javascript:;\" @click=\"delRow(user.id)\" type=\"text\" size=\"small\">删除</el-button>\r\n                        <el-button :key=\"index\" type=\"text\" size=\"small\">\r\n                            <a :href=\"'#/user/edit?id=' + user.id\">修改</a>\r\n                        </el-button>\r\n                    </template>\r\n                </el-table-column>\r\n                <el-table-column :key=\"index\" v-else :prop=\"item.prop\" :label=\"item.label\" align=\"center\">\r\n                    <template scope=\"scope\">\r\n                        <span>\r\n                            {{scope.row[item.prop]}}\r\n                        </span>\r\n                    </template>\r\n                </el-table-column>\r\n            </template>    \r\n        </el-table>\r\n    \r\n    <!-- <table border=\"1\">\r\n        <tr>\r\n            <td>id</td>\r\n            <td>name</td>\r\n            <td>age</td>\r\n            <td>birth</td>\r\n            <td>operation</td>\r\n        </tr>\r\n        <tr v-for=\"usr in users\" :key=\"usr.index\">\r\n            <td>{{usr.id}}</td>\r\n            <td>{{usr.name}}</td>\r\n            <td>{{usr.age}}</td>\r\n            <td>{{usr.bir}}</td> -->\r\n            <!-- href=\"javascript:;\" 代表的是发生动作时执行一段javascript代码，但是这个代码是空的，所以什么也不执行 -->\r\n            <!-- 如果用href=\"\",也是会什么都不做但是会刷新页面 -->\r\n            <!-- <td><a href=\"javascript:;\" @click=\"delRow(usr.id)\">删除</a><a :href=\"'#/user/edit?id=' + usr.id\">修改</a></td>\r\n        </tr>\r\n    </table> -->\r\n \r\n    <el-button plain size=\"small\">\r\n        <a href=\"#/user/add\">添加</a>\r\n    </el-button>\r\n    <!-- <a href=\"#/user/add\">添加</a> -->\r\n    <!-- 展示路由具体页面 -->\r\n    <router-view></router-view>\r\n    <Footer></Footer>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n    import Footer from './Footer'\r\n    export default {\r\n        name: \"User\",\r\n        data(){\r\n            return{\r\n                users:[\r\n                    // {id:\"1\",name:\"zlb\",age:18},\r\n                    // {id:\"2\",name:\"zbl\",age:81}\r\n                ],\r\n                headArr:[\r\n                    {label:'ID', prop:\"id\", ind:1},\r\n                    {label:'姓名' , prop : 'name', ind:2},\r\n                    {label:'年龄' , prop : 'age', ind:3},\r\n                    {label:'生日' , prop : 'bir', ind:4},\r\n                    {label:'操作', ind:5}\r\n                ]\r\n            }\r\n        },\r\n        methods:{\r\n            findAll(){  //查询所有\r\n                this.$http.get(\"http://rap2api.taobao.org/app/mock/306658/http/user/findAll?page=1&rows=4\").then((res) => {\r\n                    // console.log(res.data.results[0][2])\r\n                    this.users = res.data.results;\r\n                })\r\n            },\r\n            delRow(id){\r\n                console.log(id);\r\n                this.$http.get(\"http://rap2api.taobao.org/app/mock/306658/http/user/delete?id=\" + id).then((res) => {\r\n                    console.log(res)\r\n                    if (res.data.success) {\r\n                        alert(res.data.msg + \",点击确定刷新当前数据\")\r\n                        // findAll无变化是因为这里的url是用rap构建的假接口,里面的数据固定所以不会刷新,到时候这儿换成数据库的接口就可以书信了\r\n                        this.findAll();\r\n                    }\r\n                })\r\n            }\r\n        },\r\n        components:{\r\n            Footer\r\n        },\r\n        created(){\r\n            //axios请求\r\n            //url基于后端\r\n            this.findAll();    \r\n        },\r\n        watch:{ //用来监听...\r\n            $route:{    //监听路由变换\r\n                handler: function(val, oldVal){\r\n                    console.log(val)    // 打印变换后的路由\r\n                    if (val.path == \"/user\") {\r\n                        this.findAll()\r\n                    }\r\n                },\r\n                // 深度监听\r\n                deep:true\r\n            }\r\n        }\r\n    };\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n\r\n</style>"]}]}