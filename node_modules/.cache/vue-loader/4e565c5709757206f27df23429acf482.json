{"remainingRequest":"e:\\大三上\\数据库\\大作业\\frontend\\mix\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!e:\\大三上\\数据库\\大作业\\frontend\\mix\\src\\components\\Community.vue?vue&type=script&lang=js&","dependencies":[{"path":"e:\\大三上\\数据库\\大作业\\frontend\\mix\\src\\components\\Community.vue","mtime":1669903911718},{"path":"e:\\大三上\\数据库\\大作业\\frontend\\mix\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1662974870267},{"path":"e:\\大三上\\数据库\\大作业\\frontend\\mix\\node_modules\\babel-loader\\lib\\index.js","mtime":1662974871420},{"path":"e:\\大三上\\数据库\\大作业\\frontend\\mix\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1662974870267},{"path":"e:\\大三上\\数据库\\大作业\\frontend\\mix\\node_modules\\vue-loader\\lib\\index.js","mtime":1662974872279}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:DQppbXBvcnQgcXMgZnJvbSAicXMiDQoNCmV4cG9ydCBkZWZhdWx0IHsNCiAgbmFtZTogIkNvbW11bml0eSIsDQogIGNvbXBvbmVudHM6IHt9LA0KICBwcm9wczogew0KICB9LA0KICBkYXRhKCkgew0KICAgIHJldHVybiB7DQogICAgICAgIGJhbm5lckg6MjAwLA0KICAgICAgICB1c2VyX2lkOnRoaXMuJHN0b3JlLnN0YXRlLnVzZXJfaWQsDQogICAgICAgIGRpYWxvZzogZmFsc2UsDQogICAgICAgIGxvYWRpbmc6IGZhbHNlLA0KICAgICAgICBhbGxncm91cHM6Ww0KICAgICAgICAgICAge2dyb3VwSWQ6MCwgbmFtZTon5Y6f56WeJywgZGVzYzon5omL5ri46aG25rWBJywgdGFnczpbJ2dhbWUnLCAnYWxsLXBsYXRmb3JtJ119LA0KICAgICAgICAgICAge2dyb3VwSWQ6MSwgbmFtZTonTE9MJywgZGVzYzon572R5ri45beF5bOwJywgdGFnczpbJ01PQkEnXX0sDQogICAgICAgICAgICB7Z3JvdXBJZDozLCBuYW1lOifmmI7mmJ8nLGRlc2M6J+i/veaYn+iBmumbhuWcsCcsIHRhZ3M6WydzdGFycyddfQ0KICAgICAgICBdLA0KICAgICAgICByZWNvbW1lbmRMaXN0OlsNCiAgICAgICAgICAgIHtncm91cElkOjAscGljOidodHRwczovL3RpZWJhLWFyZXMuY2RuLmJjZWJvcy5jb20vbWlzLzIwMjItMTEvMTY2ODMyNjQxNDY2MS82ZjMzMjkxYTRkMmEuanBnJywgbmFtZTon546L6ICF6I2j6ICA5LiW55WMJywgfSwNCiAgICAgICAgICAgIHtncm91cElkOjEscGljOidodHRwczovL3RpZWJhLWFyZXMuY2RuLmJjZWJvcy5jb20vbWlzLzIwMjItMTEvMTY2ODMyNTk0NjMxNy9jYjQ2MzRlNDljZDcucG5nJywgbmFtZTon5Li654ix5Yay6ZSLJ30sDQogICAgICAgICAgICB7Z3JvdXBJZDoyLHBpYzonaHR0cHM6Ly90aWViYS1hcmVzLmNkbi5iY2Vib3MuY29tL21pcy8yMDIyLTExLzE2NjgzMjYwNjA0MzkvMjAwMjljZWE5MjVjLmpwZycsIG5hbWU6J+acseS4gOm+meiOt+Wllid9DQogICAgICAgIF0sDQogICAgICAgIGZvcm06IHsNCiAgICAgICAgICBuYW1lOiAnJywNCiAgICAgICAgICB0YWdzOiBbXSwNCiAgICAgICAgICBkZXNjOiAnJw0KICAgICAgICB9LA0KICAgICAgICBmb3JtTGFiZWxXaWR0aDogJzgwcHgnLA0KICAgICAgICB0aW1lcjogbnVsbCwNCiAgICB9Ow0KICB9LA0KICB3YXRjaDoge30sDQogIGNvbXB1dGVkOiB7fSwNCiAgbWV0aG9kczogew0KICAgICAgZ2V0QWxsKCl7DQogICAgICAgIHRoaXMuJGh0dHAoew0KICAgICAgICAgICAgICBtZXRob2Q6ICdwb3N0JywNCiAgICAgICAgICAgICAgdXJsOiAnL2dldENvbW11bml0eUluZm8nLA0KICAgICAgICAgICAgICBkYXRhOiBxcy5zdHJpbmdpZnkoew0KICAgICAgICAgICAgICAgIHVzZXJfaWQ6dGhpcy51c2VyX2lkDQogICAgICAgICAgICAgIH0pDQogICAgICAgICAgfSkudGhlbigocmVzKSA9PiB7DQogICAgICAgICAgICAgIGNvbnNvbGUubG9nKHJlcy5kYXRhKQ0KICAgICAgICAgICAgLy8gICB0aGlzLmNsYXNzZXMgPSByZXMuZGF0YS5jbGFzc2VzDQogICAgICAgICAgfSkNCiAgICAgIH0sDQogICAgICBnZXRIb3RHcm91cFBpYygpew0KICAgICAgICB0aGlzLiRodHRwKHsNCiAgICAgICAgICAgICAgbWV0aG9kOiAncG9zdCcsDQogICAgICAgICAgICAgIHVybDogJy9nZXRIb3RHcm91cFBpYycsDQogICAgICAgICAgICAgIGRhdGE6IHFzLnN0cmluZ2lmeSh7DQogICAgICAgICAgICAgICAgdXNlcl9pZDp0aGlzLnVzZXJfaWQNCiAgICAgICAgICAgICAgfSkNCiAgICAgICAgICB9KS50aGVuKChyZXMpID0+IHsNCiAgICAgICAgICAgICAgY29uc29sZS5sb2cocmVzLmRhdGEpDQogICAgICAgICAgICAgIHRoaXMucmVjb21tZW5kTGlzdCA9IHJlcy5kYXRhLmdyb3Vwcw0KICAgICAgICAgIH0pDQogICAgICB9LA0KICAgICAgc2V0QmFubmVySCgpew0KICAgICAgICB0aGlzLmJhbm5lckggPSBkb2N1bWVudC5ib2R5LmNsaWVudFdpZHRoIC8gNCArIDEwMA0KICAgICAgfSwNCiAgICAgIGdldEhvdEdyb3VwSW50cm8oKXsNCiAgICAgICAgdGhpcy4kaHR0cCh7DQogICAgICAgICAgICAgIG1ldGhvZDogJ3Bvc3QnLA0KICAgICAgICAgICAgICB1cmw6ICcvZ2V0SG90R3JvdXBJbnRybycsDQogICAgICAgICAgICAgIGRhdGE6IHFzLnN0cmluZ2lmeSh7DQogICAgICAgICAgICAgICAgdXNlcl9pZDp0aGlzLnVzZXJfaWQNCiAgICAgICAgICAgICAgfSkNCiAgICAgICAgICB9KS50aGVuKChyZXMpID0+IHsNCiAgICAgICAgICAgICAgY29uc29sZS5sb2cocmVzLmRhdGEpDQogICAgICAgICAgICAgIHRoaXMuYWxsZ3JvdXBzID0gcmVzLmRhdGEuZ3JvdXBzDQogICAgICAgICAgfSkNCiAgICAgIH0sDQogICAgICB1c2VyQWRkR3JvdXAoZG9uZSl7DQogICAgICAgIGlmICh0aGlzLmxvYWRpbmcpIHsNCiAgICAgICAgICByZXR1cm47DQogICAgICAgIH0NCiAgICAgICAgdGhpcy4kY29uZmlybSgn56Gu5a6a6KaB5o+Q5Lqk6KGo5Y2V5ZCX77yfJykNCiAgICAgICAgLnRoZW4oXyA9PiB7DQogICAgICAgICAgdGhpcy5sb2FkaW5nID0gdHJ1ZTsNCiAgICAgICAgICB0aGlzLnRpbWVyID0gc2V0VGltZW91dCgoKSA9PiB7DQogICAgICAgICAgICBkb25lKCk7DQogICAgICAgICAgICAvLyB0aGlzLiRodHRwKHsNCiAgICAgICAgICAgIC8vICAgICBtZXRob2Q6ICdwb3N0JywNCiAgICAgICAgICAgIC8vICAgICB1cmw6ICcvdXNlckFkZEdyb3VwJywNCiAgICAgICAgICAgIC8vICAgICBkYXRhOiBxcy5zdHJpbmdpZnkoew0KICAgICAgICAgICAgLy8gICAgICAgdXNlcklkOnRoaXMudXNlcl9pZCwNCiAgICAgICAgICAgIC8vICAgICAgIGdyb3VwX25hbWU6dGhpcy5mb3JtLmdyb3VwX25hbWUsDQogICAgICAgICAgICAvLyAgICAgICBncm91cF9kZXNjOnRoaXMuZm9ybS5ncm91cF9kZXNjcmlwdGlvbg0KICAgICAgICAgICAgLy8gICAgIH0pDQogICAgICAgICAgICAvLyB9KS50aGVuKChyZXMpID0+IHsNCiAgICAgICAgICAgIC8vICAgICBhbGVydCgi5re75Yqg5oiQ5YqfISIpDQogICAgICAgICAgICAvLyB9KQ0KDQogICAgICAgICAgICANCiAgICAgICAgICAgIC8vIOWKqOeUu+WFs+mXremcgOimgeS4gOWumueahOaXtumXtA0KICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7DQogICAgICAgICAgICAgICAgdGhpcy5sb2FkaW5nID0gZmFsc2U7DQogICAgICAgICAgICAgIH0sIDQwMCk7DQogICAgICAgICAgICB9LCAyMDAwKTsNCiAgICAgICAgICAgIGNvbnNvbGUubG9nKHRoaXMuZm9ybSkNCiAgICAgICAgfSkNCiAgICAgICAgLmNhdGNoKF8gPT4ge30pOw0KICAgICAgfSwNCiAgICAgIGNhbmNlbEZvcm0oKSB7DQogICAgICAgIHRoaXMubG9hZGluZyA9IGZhbHNlOw0KICAgICAgICB0aGlzLmRpYWxvZyA9IGZhbHNlOw0KICAgICAgICBjbGVhclRpbWVvdXQodGhpcy50aW1lcik7DQogICAgICB9LA0KICAgICAgaW50b0dyb3VwKGlkKXsNCiAgICAgICAgY29uc29sZS5sb2coaWQpDQogICAgICAgIHRoaXMuJHN0b3JlLmNvbW1pdCgic2V0R3BJZCIsIGlkKQ0KICAgICAgICB0aGlzLiRyb3V0ZXIucHVzaCgiL2dyb3VwIikNCiAgICAgIH0NCiAgfSwNCiAgY3JlYXRlZCgpIHt0aGlzLmdldEFsbCgpfSwNCiAgbW91bnRlZCgpIHsNCiAgICB0aGlzLnNldEJhbm5lckgoKQ0KICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdyZXNpemUnLCAoKSA9PiB7DQogICAgICB0aGlzLnNldEJhbm5lckgoKQ0KICAgIH0sIGZhbHNlKQ0KICB9DQp9Ow0K"},{"version":3,"sources":["Community.vue"],"names":[],"mappings":";AAmFA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Community.vue","sourceRoot":"src/components","sourcesContent":["<template>\r\n    \r\n  <div>\r\n    <!-- 走马灯 -->\r\n      <el-carousel :interval=\"4000\" type=\"card\" height=\"bannerH +'px'\">\r\n          <el-carousel-item v-for=\"item in recommendList\" :key=\"item\">\r\n            <div class=\"pic_item\">\r\n              <img class=\"img\" :src=\"item.pic\" :alt=\"item.name\">\r\n              <h3>{{item.name}}</h3>\r\n            </div>\r\n          </el-carousel-item>\r\n      </el-carousel>\r\n\r\n      <!-- 圈子列表 -->\r\n      <el-table\r\n      :data=\"allgroups\"\r\n      border\r\n      stripe\r\n      style=\"width: 100%\">\r\n      <el-table-column\r\n        prop=\"name\"\r\n        label=\"圈名\"\r\n        width=\"180\">\r\n        <template slot-scope=\"scope\">\r\n          <el-button href=\"javascript:;\" @click=\"intoGroup(scope.row.groupId)\" type=\"text\" size=\"small\">{{scope.row.name}}</el-button>\r\n        </template>\r\n      </el-table-column>\r\n      <el-table-column\r\n        prop=\"desc\"\r\n        label=\"简介\"\r\n        >\r\n      </el-table-column>\r\n      <el-table-column\r\n        prop=\"tags\"\r\n        label=\"标签\">\r\n        <template slot-scope=\"scope\">\r\n          <template v-for=\"item in scope.row.tags\">\r\n            <el-tag>{{item}}</el-tag> \r\n            &#12288;\r\n          </template>\r\n          \r\n        </template>\r\n      </el-table-column>\r\n      </el-table>\r\n\r\n    <el-button type=\"text\" @click=\"dialog = true\">添加圈子</el-button>\r\n    <el-drawer\r\n    title=\"同学,请填写以下信息来创建自己感兴趣的圈子\"\r\n    :before-close=\"userAddGroup\"\r\n    :visible.sync=\"dialog\"\r\n    direction=\"ltr\"\r\n    custom-class=\"demo-drawer\"\r\n    ref=\"drawer\"\r\n    >\r\n    <div class=\"demo-drawer__content\">\r\n      <el-form :model=\"form\">\r\n        <el-form-item label=\"圈子名称\" :label-width=\"formLabelWidth\">\r\n          <el-input v-model=\"form.name\" autocomplete=\"off\"></el-input>\r\n        </el-form-item>\r\n        <el-form-item label=\"圈子简介\" :label-width=\"formLabelWidth\">\r\n          <el-input v-model=\"form.desc\" autocomplete=\"off\"></el-input>\r\n        </el-form-item>\r\n        <el-form-item label=\"圈子标签\" :label-width=\"formLabelWidth\">\r\n          <el-input v-model=\"form.tags\" autocomplete=\"off\"></el-input>\r\n        </el-form-item>\r\n        <!-- <el-form-item label=\"活动区域\" :label-width=\"formLabelWidth\">\r\n          <el-select v-model=\"form.region\" placeholder=\"请选择活动区域\">\r\n            <el-option label=\"区域一\" value=\"shanghai\"></el-option>\r\n            <el-option label=\"区域二\" value=\"beijing\"></el-option>\r\n          </el-select>\r\n        </el-form-item> -->\r\n      </el-form>\r\n      <div class=\"demo-drawer__footer\">\r\n        <el-button @click=\"cancelForm\">取 消</el-button>\r\n        <el-button type=\"primary\" @click=\"$refs.drawer.closeDrawer()\" :loading=\"loading\">{{ loading ? '提交中 ...' : '确 定' }}</el-button>\r\n    </div>\r\n  </div>\r\n</el-drawer>\r\n\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport qs from \"qs\"\r\n\r\nexport default {\r\n  name: \"Community\",\r\n  components: {},\r\n  props: {\r\n  },\r\n  data() {\r\n    return {\r\n        bannerH:200,\r\n        user_id:this.$store.state.user_id,\r\n        dialog: false,\r\n        loading: false,\r\n        allgroups:[\r\n            {groupId:0, name:'原神', desc:'手游顶流', tags:['game', 'all-platform']},\r\n            {groupId:1, name:'LOL', desc:'网游巅峰', tags:['MOBA']},\r\n            {groupId:3, name:'明星',desc:'追星聚集地', tags:['stars']}\r\n        ],\r\n        recommendList:[\r\n            {groupId:0,pic:'https://tieba-ares.cdn.bcebos.com/mis/2022-11/1668326414661/6f33291a4d2a.jpg', name:'王者荣耀世界', },\r\n            {groupId:1,pic:'https://tieba-ares.cdn.bcebos.com/mis/2022-11/1668325946317/cb4634e49cd7.png', name:'为爱冲锋'},\r\n            {groupId:2,pic:'https://tieba-ares.cdn.bcebos.com/mis/2022-11/1668326060439/20029cea925c.jpg', name:'朱一龙获奖'}\r\n        ],\r\n        form: {\r\n          name: '',\r\n          tags: [],\r\n          desc: ''\r\n        },\r\n        formLabelWidth: '80px',\r\n        timer: null,\r\n    };\r\n  },\r\n  watch: {},\r\n  computed: {},\r\n  methods: {\r\n      getAll(){\r\n        this.$http({\r\n              method: 'post',\r\n              url: '/getCommunityInfo',\r\n              data: qs.stringify({\r\n                user_id:this.user_id\r\n              })\r\n          }).then((res) => {\r\n              console.log(res.data)\r\n            //   this.classes = res.data.classes\r\n          })\r\n      },\r\n      getHotGroupPic(){\r\n        this.$http({\r\n              method: 'post',\r\n              url: '/getHotGroupPic',\r\n              data: qs.stringify({\r\n                user_id:this.user_id\r\n              })\r\n          }).then((res) => {\r\n              console.log(res.data)\r\n              this.recommendList = res.data.groups\r\n          })\r\n      },\r\n      setBannerH(){\r\n        this.bannerH = document.body.clientWidth / 4 + 100\r\n      },\r\n      getHotGroupIntro(){\r\n        this.$http({\r\n              method: 'post',\r\n              url: '/getHotGroupIntro',\r\n              data: qs.stringify({\r\n                user_id:this.user_id\r\n              })\r\n          }).then((res) => {\r\n              console.log(res.data)\r\n              this.allgroups = res.data.groups\r\n          })\r\n      },\r\n      userAddGroup(done){\r\n        if (this.loading) {\r\n          return;\r\n        }\r\n        this.$confirm('确定要提交表单吗？')\r\n        .then(_ => {\r\n          this.loading = true;\r\n          this.timer = setTimeout(() => {\r\n            done();\r\n            // this.$http({\r\n            //     method: 'post',\r\n            //     url: '/userAddGroup',\r\n            //     data: qs.stringify({\r\n            //       userId:this.user_id,\r\n            //       group_name:this.form.group_name,\r\n            //       group_desc:this.form.group_description\r\n            //     })\r\n            // }).then((res) => {\r\n            //     alert(\"添加成功!\")\r\n            // })\r\n\r\n            \r\n            // 动画关闭需要一定的时间\r\n            setTimeout(() => {\r\n                this.loading = false;\r\n              }, 400);\r\n            }, 2000);\r\n            console.log(this.form)\r\n        })\r\n        .catch(_ => {});\r\n      },\r\n      cancelForm() {\r\n        this.loading = false;\r\n        this.dialog = false;\r\n        clearTimeout(this.timer);\r\n      },\r\n      intoGroup(id){\r\n        console.log(id)\r\n        this.$store.commit(\"setGpId\", id)\r\n        this.$router.push(\"/group\")\r\n      }\r\n  },\r\n  created() {this.getAll()},\r\n  mounted() {\r\n    this.setBannerH()\r\n    window.addEventListener('resize', () => {\r\n      this.setBannerH()\r\n    }, false)\r\n  }\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n    .el-carousel__item h3 {\r\n    color: #475669;\r\n    font-size: 14px;\r\n    opacity: 0.75;\r\n    line-height: 500px;\r\n    margin: 0;\r\n  }\r\n  \r\n  .el-carousel__item:nth-child(2n) {\r\n    background-color: #99a9bf;\r\n  }\r\n  \r\n  .el-carousel__item:nth-child(2n+1) {\r\n    background-color: #d3dce6;\r\n  }\r\n\r\n  .pic_item {\r\n  position: relative;\r\n  height: 100%;\r\n  }\r\n\r\n  .pic_item h3 {\r\n  position: absolute;\r\n  left: 1rem;\r\n  bottom: 2rem;\r\n  color: white;\r\n}\r\n</style>"]}]}